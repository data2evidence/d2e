procedure "hc.hph.tests.db::GET_VIEW_DEFINITION" (  in SCHEMANAME NVARCHAR(256) ,  in PREFIX NVARCHAR(512) ,  out RESULT "hc.hph.tests.db::GET_VIEW_DEFINITION/tabletype/RESULT"  ) language SQLSCRIPT sql security definer reads sql data as 
 /********* Begin Procedure Script ************/ 
BEGIN 
	CALL "hc.hph.tests.db::GET_DEPENDENCY_LEVELS"(:PREFIX || '%',DEPENDENCY_LEVELS);

	RESULT = 
	    SELECT V.VIEW_NAME AS VIEWNAME, V.DEFINITION AS DEFINITION
	    FROM "hc::VIEWS" V,
	      :DEPENDENCY_LEVELS D
	    WHERE 
	    	V.VIEW_NAME = D.OBJECT_NAME 
	    	AND V.SCHEMA_NAME = :SCHEMANAME
	    ORDER BY D."LEVEL" DESC
	;
END;
 /********* End Procedure Script ************/