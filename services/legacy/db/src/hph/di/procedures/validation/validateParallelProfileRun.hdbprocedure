PROCEDURE "hc.hph.di.procedures.validation::validateParallelProfileRun" ( IN ProfileID BIGINT,OUT status TINYINT ) 
	LANGUAGE SQLSCRIPT
	SQL SECURITY INVOKER 
	READS SQL DATA AS
BEGIN
	DECLARE count INTEGER := 0;
	DECLARE ExtnId NVARCHAR(256);
	
	SELECT  "ExtensionID" into ExtnId FROM "hc.hph.di.model::DataIntegration.JobProfile" WHERE "ProfileID" = :ProfileID;
	
    SELECT COUNT(*) INTO count FROM "hc.hph.di.model::DataIntegration.AuditLog"
	WHERE "ExtensionID"=:ExtnId and "Status" ='Running';
	
    status := 0;
    IF :count = 1 THEN
        status := 1;
    END IF;
END;
