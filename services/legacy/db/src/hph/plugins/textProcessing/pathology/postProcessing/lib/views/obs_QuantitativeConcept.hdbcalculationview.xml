<?xml version="1.0" encoding="UTF-8"?>
<Calculation:scenario xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:Calculation="http://www.com/ndb/BiModelCalculation.ecore" id="hc.hph.plugins.textProcessing.pathology.postProcessing.lib.views::obs_QuantitativeConcept" applyPrivilegeType="NONE" dataCategory="DEFAULT" schemaVersion="3.0" outputViewType="Projection" cacheInvalidationPeriod="NONE" enforceSqlExecution="false">
<descriptions defaultDescription="obs_QuantitativeConcept"/>
<localVariables/>
<variableMappings/>
<dataSources>
  <DataSource id="hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta" type="TABLE_FUNCTION">
    <resourceUri>hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta</resourceUri>
  </DataSource>
  <DataSource id="PS_UNIT_DICTIONARY$$$$hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta$$" type="TABLE_FUNCTION">
    <resourceUri>hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta</resourceUri>
  </DataSource>
  <DataSource id="PS_VALUE_DICTIONARY$$$$hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta$$" type="TABLE_FUNCTION">
    <resourceUri>hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta</resourceUri>
  </DataSource>
  <DataSource id="PS_VALUE_rule$$$$hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta$$" type="TABLE_FUNCTION">
    <resourceUri>hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta</resourceUri>
  </DataSource>
  <DataSource id="BW_VALUE_rule$$$$hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta$$" type="TABLE_FUNCTION">
    <resourceUri>hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta</resourceUri>
  </DataSource>
  <DataSource id="BW_UNIT_rule$$$$hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta$$" type="TABLE_FUNCTION">
    <resourceUri>hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta</resourceUri>
  </DataSource>
</dataSources>
<calculationViews>
  <calculationView xsi:type="Calculation:ProjectionView" id="PS_UNIT_rule" filterExpressionLanguage="SQL">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_OFFSET">
        <descriptions defaultDescription="TA_OFFSET"/>
      </viewAttribute>
      <viewAttribute id="TA_PARENT">
        <descriptions defaultDescription="TA_PARENT"/>
      </viewAttribute>
      <viewAttribute id="TA_TOKEN">
        <descriptions defaultDescription="TA_TOKEN"/>
      </viewAttribute>
      <viewAttribute id="TA_TYPE">
        <descriptions defaultDescription="TA_TYPE"/>
      </viewAttribute>
    </viewAttributes>
    <calculatedViewAttributes/>
    <restrictedViewAttributes/>
    <input node="hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OFFSET" source="TA_OFFSET"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_PARENT" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_TOKEN" source="TA_TOKEN"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_TYPE" source="TA_TYPE"/>
    </input>
    <filter>&quot;TA_TYPE&quot;='Observation_PerformanceStatus'</filter>
  </calculationView>
  <calculationView xsi:type="Calculation:ProjectionView" id="PS_UNIT_DICTIONARY" filterExpressionLanguage="SQL">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_OFFSET">
        <descriptions defaultDescription="TA_OFFSET"/>
      </viewAttribute>
      <viewAttribute id="TA_TOKEN">
        <descriptions defaultDescription="TA_TOKEN"/>
      </viewAttribute>
      <viewAttribute id="TA_TYPE">
        <descriptions defaultDescription="TA_TYPE"/>
      </viewAttribute>
      <viewAttribute id="TA_OBS_UNIT">
        <descriptions defaultDescription="TA_NORMALIZED"/>
      </viewAttribute>
    </viewAttributes>
    <calculatedViewAttributes>
      <calculatedViewAttribute id="SUBTYPE" datatype="VARCHAR" length="10" expressionLanguage="COLUMN_ENGINE">
        <formula>midstr(&quot;TA_TYPE&quot;, 31)</formula>
      </calculatedViewAttribute>
    </calculatedViewAttributes>
    <restrictedViewAttributes/>
    <input node="PS_UNIT_DICTIONARY$$$$hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta$$">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OFFSET" source="TA_OFFSET"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_TOKEN" source="TA_TOKEN"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_TYPE" source="TA_TYPE"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OBS_UNIT" source="TA_NORMALIZED"/>
    </input>
    <filter>&quot;TA_TYPE&quot; LIKE 'OBSERVATION_PERFORMANCESTATUS/%'</filter>
  </calculationView>
  <calculationView xsi:type="Calculation:JoinView" id="PS_UNIT_collapsing" cardinality="CN_N" joinType="inner">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_PARENT" aggregationType="sum">
        <descriptions defaultDescription="TA_PARENT"/>
      </viewAttribute>
      <viewAttribute id="SUBTYPE">
        <descriptions defaultDescription="SUBTYPE"/>
      </viewAttribute>
      <viewAttribute id="TA_OBS_UNIT">
        <descriptions defaultDescription="TA_NORMALIZED"/>
      </viewAttribute>
      <viewAttribute hidden="true" id="JOIN$TA_OFFSET$TA_OFFSET"/>
      <viewAttribute hidden="true" id="JOIN$TA_TOKEN$TA_TOKEN"/>
    </viewAttributes>
    <calculatedViewAttributes/>
    <restrictedViewAttributes/>
    <input node="PS_UNIT_rule">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_PARENT" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="JOIN$TA_OFFSET$TA_OFFSET" source="TA_OFFSET"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="JOIN$TA_TOKEN$TA_TOKEN" source="TA_TOKEN"/>
    </input>
    <input node="PS_UNIT_DICTIONARY">
      <mapping xsi:type="Calculation:AttributeMapping" target="SUBTYPE" source="SUBTYPE"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OBS_UNIT" source="TA_OBS_UNIT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="JOIN$TA_OFFSET$TA_OFFSET" source="TA_OFFSET"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="JOIN$TA_TOKEN$TA_TOKEN" source="TA_TOKEN"/>
    </input>
    <joinAttribute name="DWID"/>
    <joinAttribute name="JOIN$TA_OFFSET$TA_OFFSET"/>
    <joinAttribute name="JOIN$TA_TOKEN$TA_TOKEN"/>
  </calculationView>
  <calculationView xsi:type="Calculation:ProjectionView" id="PS_VALUE_DICTIONARY" filterExpressionLanguage="SQL">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_OFFSET">
        <descriptions defaultDescription="TA_OFFSET"/>
      </viewAttribute>
      <viewAttribute id="TA_TOKEN">
        <descriptions defaultDescription="TA_TOKEN"/>
      </viewAttribute>
      <viewAttribute id="TA_NORMALIZED">
        <descriptions defaultDescription="TA_NORMALIZED"/>
      </viewAttribute>
      <viewAttribute id="TA_TYPE">
        <descriptions defaultDescription="TA_TYPE"/>
      </viewAttribute>
    </viewAttributes>
    <calculatedViewAttributes>
      <calculatedViewAttribute id="SUBTYPE" datatype="NVARCHAR" length="5000" expressionLanguage="COLUMN_ENGINE">
        <formula>midstr(&quot;TA_TYPE&quot;, 11)</formula>
      </calculatedViewAttribute></calculatedViewAttributes>
    <restrictedViewAttributes/>
    <input node="PS_VALUE_DICTIONARY$$$$hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta$$">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OFFSET" source="TA_OFFSET"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_TOKEN" source="TA_TOKEN"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_NORMALIZED" source="TA_NORMALIZED"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_TYPE" source="TA_TYPE"/>
    </input>
    <filter>&quot;TA_TYPE&quot; LIKE 'PS__VALUE/%'</filter>
  </calculationView>
  <calculationView xsi:type="Calculation:ProjectionView" id="PS_VALUE_rule" filterExpressionLanguage="SQL">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_OFFSET">
        <descriptions defaultDescription="TA_OFFSET"/>
      </viewAttribute>
      <viewAttribute id="TA_PARENT">
        <descriptions defaultDescription="TA_PARENT"/>
      </viewAttribute>
      <viewAttribute id="TA_TOKEN">
        <descriptions defaultDescription="TA_TOKEN"/>
      </viewAttribute>
      <viewAttribute id="TA_TYPE">
        <descriptions defaultDescription="TA_TYPE"/>
      </viewAttribute>
    </viewAttributes>
    <calculatedViewAttributes/>
    <restrictedViewAttributes/>
    <input emptyUnionBehavior="undefined" node="PS_VALUE_rule$$$$hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta$$">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OFFSET" source="TA_OFFSET"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_PARENT" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_TOKEN" source="TA_TOKEN"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_TYPE" source="TA_TYPE"/>
    </input>
    <filter>&quot;TA_TYPE&quot;='Observation_PerformanceStatus_Value'</filter>
  </calculationView>
  <calculationView xsi:type="Calculation:JoinView" id="PS_VALUE_collapsing" cardinality="CN_N" joinType="inner">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_PARENT" aggregationType="sum">
        <descriptions defaultDescription="TA_PARENT"/>
      </viewAttribute>
      <viewAttribute id="SUBTYPE">
        <descriptions defaultDescription="SUBTYPE"/>
      </viewAttribute>
      <viewAttribute id="TA_NORMALIZED">
        <descriptions defaultDescription="TA_NORMALIZED"/>
      </viewAttribute>
      <viewAttribute hidden="true" id="JOIN$TA_OFFSET$TA_OFFSET"/>
      <viewAttribute hidden="true" id="JOIN$TA_TOKEN$TA_TOKEN"/>
    </viewAttributes>
    <calculatedViewAttributes>
      <calculatedViewAttribute id="TA_OBS_VALUE_INT" datatype="INTEGER" expressionLanguage="COLUMN_ENGINE">
        <formula>int(&quot;TA_NORMALIZED&quot;)</formula>
      </calculatedViewAttribute>
    </calculatedViewAttributes>
    <restrictedViewAttributes/>
    <input node="PS_VALUE_rule">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_PARENT" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="JOIN$TA_OFFSET$TA_OFFSET" source="TA_OFFSET"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="JOIN$TA_TOKEN$TA_TOKEN" source="TA_TOKEN"/>
    </input>
    <input node="PS_VALUE_DICTIONARY">
      <mapping xsi:type="Calculation:AttributeMapping" target="SUBTYPE" source="SUBTYPE"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_NORMALIZED" source="TA_NORMALIZED"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="JOIN$TA_OFFSET$TA_OFFSET" source="TA_OFFSET"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="JOIN$TA_TOKEN$TA_TOKEN" source="TA_TOKEN"/>
    </input>
    <joinAttribute name="DWID"/>
    <joinAttribute name="JOIN$TA_OFFSET$TA_OFFSET"/>
    <joinAttribute name="JOIN$TA_TOKEN$TA_TOKEN"/>
  </calculationView>
  <calculationView xsi:type="Calculation:AggregationView" id="ECOG_VALUE" filterExpressionLanguage="SQL">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_PARENT">
        <descriptions defaultDescription="TA_PARENT"/>
      </viewAttribute>
      <viewAttribute id="SUBTYPE">
        <descriptions defaultDescription="SUBTYPE"/>
      </viewAttribute>
      <viewAttribute id="TA_OBS_VALUE_INT" aggregationType="min">
        <descriptions defaultDescription="TA_OBS_VALUE"/>
      </viewAttribute>
    </viewAttributes>
    <calculatedViewAttributes/>
    <restrictedViewAttributes/>
    <input node="PS_VALUE_collapsing">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_PARENT" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="SUBTYPE" source="SUBTYPE"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OBS_VALUE_INT" source="TA_OBS_VALUE_INT"/>
    </input>
    <filter>&quot;SUBTYPE&quot;='ECOG'</filter>
  </calculationView>
  <calculationView xsi:type="Calculation:AggregationView" id="KARNOFSKY_VALUE" filterExpressionLanguage="SQL">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_PARENT">
        <descriptions defaultDescription="TA_PARENT"/>
      </viewAttribute>
      <viewAttribute id="SUBTYPE">
        <descriptions defaultDescription="SUBTYPE"/>
      </viewAttribute>
      <viewAttribute id="TA_OBS_VALUE_INT" aggregationType="max">
        <descriptions defaultDescription="TA_OBS_VALUE"/>
      </viewAttribute>
    </viewAttributes>
    <calculatedViewAttributes/>
    <restrictedViewAttributes/>
    <input node="PS_VALUE_collapsing">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_PARENT" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="SUBTYPE" source="SUBTYPE"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OBS_VALUE_INT" source="TA_OBS_VALUE_INT"/>
    </input>
    <filter>&quot;SUBTYPE&quot;='KARNOFSKY'</filter>
  </calculationView>
  <calculationView xsi:type="Calculation:UnionView" id="PS_VALUE">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_PARENT" aggregationType="sum">
        <descriptions defaultDescription="TA_PARENT"/>
      </viewAttribute>
      <viewAttribute id="SUBTYPE">
        <descriptions defaultDescription="SUBTYPE"/>
      </viewAttribute>
      <viewAttribute id="TA_OBS_VALUE_INT" aggregationType="min">
        <descriptions defaultDescription="TA_OBS_VALUE"/>
      </viewAttribute>
    </viewAttributes>
    <calculatedViewAttributes/>
    <restrictedViewAttributes/>
    <input node="ECOG_VALUE" emptyUnionBehavior="NO_ROW">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_PARENT" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="SUBTYPE" source="SUBTYPE"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OBS_VALUE_INT" source="TA_OBS_VALUE_INT"/>
    </input>
    <input node="KARNOFSKY_VALUE" emptyUnionBehavior="NO_ROW">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_PARENT" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="SUBTYPE" source="SUBTYPE"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OBS_VALUE_INT" source="TA_OBS_VALUE_INT"/>
    </input>
  </calculationView>
  <calculationView xsi:type="Calculation:JoinView" id="PS" cardinality="CN_N" joinType="inner">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_COUNTER" aggregationType="sum">
        <descriptions defaultDescription="TA_PARENT"/>
      </viewAttribute>
      <viewAttribute id="TA_OBS_VALUE_INT" aggregationType="min">
        <descriptions defaultDescription="TA_OBS_VALUE"/>
      </viewAttribute>
      <viewAttribute id="TA_OBS_UNIT">
        <descriptions defaultDescription="TA_NORMALIZED"/>
      </viewAttribute>
      <viewAttribute hidden="true" id="JOIN$SUBTYPE$SUBTYPE"/>
    </viewAttributes>
    <calculatedViewAttributes>
      <calculatedViewAttribute id="TA_NORMALIZED" datatype="NVARCHAR" length="100" expressionLanguage="COLUMN_ENGINE">
        <formula>'Performance status'</formula>
      </calculatedViewAttribute>
      <calculatedViewAttribute id="TA_OBS_VALUE" datatype="NVARCHAR" length="100" expressionLanguage="COLUMN_ENGINE">
        <formula>string(&quot;TA_OBS_VALUE_INT&quot;)</formula>
      </calculatedViewAttribute>
    </calculatedViewAttributes>
    <restrictedViewAttributes/>
    <input node="PS_UNIT_collapsing">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_COUNTER" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OBS_UNIT" source="TA_OBS_UNIT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="JOIN$SUBTYPE$SUBTYPE" source="SUBTYPE"/>
    </input>
    <input node="PS_VALUE">
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OBS_VALUE_INT" source="TA_OBS_VALUE_INT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_COUNTER" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="JOIN$SUBTYPE$SUBTYPE" source="SUBTYPE"/>
    </input>
    <joinAttribute name="DWID"/>
    <joinAttribute name="TA_COUNTER"/>
    <joinAttribute name="JOIN$SUBTYPE$SUBTYPE"/>
  </calculationView>
  <calculationView xsi:type="Calculation:ProjectionView" id="BW_VALUE_rule" filterExpressionLanguage="SQL">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_PARENT">
        <descriptions defaultDescription="TA_PARENT"/>
      </viewAttribute>
      <viewAttribute id="TA_TOKEN">
        <descriptions defaultDescription="TA_TOKEN"/>
      </viewAttribute>
      <viewAttribute id="TA_TYPE">
        <descriptions defaultDescription="TA_TYPE"/>
      </viewAttribute>
    </viewAttributes>
    <calculatedViewAttributes/>
    <restrictedViewAttributes/>
    <input node="BW_VALUE_rule$$$$hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta$$">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_PARENT" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_TOKEN" source="TA_TOKEN"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_TYPE" source="TA_TYPE"/>
    </input>
    <filter>&quot;TA_TYPE&quot;='Observation_BodyWeight_Value'</filter>
  </calculationView>
  <calculationView xsi:type="Calculation:ProjectionView" id="BW_UNIT_rule" filterExpressionLanguage="SQL">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_PARENT">
        <descriptions defaultDescription="TA_PARENT"/>
      </viewAttribute>
      <viewAttribute id="TA_TOKEN">
        <descriptions defaultDescription="TA_TOKEN"/>
      </viewAttribute>
      <viewAttribute id="TA_TYPE">
        <descriptions defaultDescription="TA_TYPE"/>
      </viewAttribute>
    </viewAttributes>
    <calculatedViewAttributes/>
    <restrictedViewAttributes/>
    <input emptyUnionBehavior="undefined" node="BW_UNIT_rule$$$$hc.hph.plugins.textProcessing.pathology.postProcessing.lib.table_functions::ta$$">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_PARENT" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_TOKEN" source="TA_TOKEN"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_TYPE" source="TA_TYPE"/>
    </input>
    <filter>&quot;TA_TYPE&quot;='Observation_BodyWeight_Unit'</filter>
  </calculationView>
  <calculationView xsi:type="Calculation:ProjectionView" id="BW_VALUE">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_PARENT">
        <descriptions defaultDescription="TA_PARENT"/>
      </viewAttribute>
      <viewAttribute id="TA_TOKEN">
        <descriptions defaultDescription="TA_TOKEN"/>
      </viewAttribute>
    </viewAttributes>
    <calculatedViewAttributes>
      <calculatedViewAttribute id="TA_OBS_VALUE" datatype="NVARCHAR" length="100" expressionLanguage="COLUMN_ENGINE">
        <formula>string(float(replace(&quot;TA_TOKEN&quot;, ',', '.')))
</formula>
      </calculatedViewAttribute>
    </calculatedViewAttributes>
    <restrictedViewAttributes/>
    <input node="BW_VALUE_rule">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_PARENT" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_TOKEN" source="TA_TOKEN"/>
    </input>
  </calculationView>
  <calculationView xsi:type="Calculation:ProjectionView" id="BW_UNIT">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_PARENT">
        <descriptions defaultDescription="TA_PARENT"/>
      </viewAttribute>
      <viewAttribute id="TA_TOKEN">
        <descriptions defaultDescription="TA_TOKEN"/>
      </viewAttribute>
    </viewAttributes>
    <calculatedViewAttributes>
      <calculatedViewAttribute id="TA_OBS_UNIT" datatype="NVARCHAR" length="100" expressionLanguage="COLUMN_ENGINE">
        <formula>if(match(lower(&quot;TA_TOKEN&quot;),'g*'),'g','kg')</formula>
      </calculatedViewAttribute>
    </calculatedViewAttributes>
    <restrictedViewAttributes/>
    <input node="BW_UNIT_rule">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_PARENT" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_TOKEN" source="TA_TOKEN"/>
    </input>
  </calculationView>
  <calculationView xsi:type="Calculation:JoinView" id="BW" cardinality="CN_N" joinType="inner">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_COUNTER" aggregationType="sum">
        <descriptions defaultDescription="TA_PARENT"/>
      </viewAttribute>
      <viewAttribute id="TA_OBS_VALUE">
        <descriptions defaultDescription="TA_OBS_VALUE"/>
      </viewAttribute>
      <viewAttribute id="TA_OBS_UNIT">
        <descriptions defaultDescription="TA_OBS_UNIT"/>
      </viewAttribute>
    </viewAttributes>
    <calculatedViewAttributes>
      <calculatedViewAttribute id="TA_NORMALIZED" datatype="NVARCHAR" length="100" expressionLanguage="COLUMN_ENGINE">
        <formula>'Body weight'</formula>
      </calculatedViewAttribute>
    </calculatedViewAttributes>
    <restrictedViewAttributes/>
    <input node="BW_VALUE">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_COUNTER" source="TA_PARENT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OBS_VALUE" source="TA_OBS_VALUE"/>
    </input>
    <input node="BW_UNIT">
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OBS_UNIT" source="TA_OBS_UNIT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_COUNTER" source="TA_PARENT"/>
    </input>
    <joinAttribute name="DWID"/>
    <joinAttribute name="TA_COUNTER"/>
  </calculationView>
  <calculationView xsi:type="Calculation:UnionView" id="QuantitativeConcept">
    <viewAttributes>
      <viewAttribute id="DWID">
        <descriptions defaultDescription="DWID"/>
      </viewAttribute>
      <viewAttribute id="TA_COUNTER" aggregationType="sum">
        <descriptions defaultDescription="TA_PARENT"/>
      </viewAttribute>
      <viewAttribute id="TA_OBS_UNIT">
        <descriptions defaultDescription="TA_NORMALIZED"/>
      </viewAttribute>
      <viewAttribute id="TA_NORMALIZED">
        <descriptions defaultDescription="TA_NORMALIZED"/>
      </viewAttribute>
      <viewAttribute id="TA_OBS_VALUE">
        <descriptions defaultDescription="TA_OBS_VALUE"/>
      </viewAttribute>
    </viewAttributes>
    <calculatedViewAttributes/>
    <restrictedViewAttributes/>
    <input node="PS">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_COUNTER" source="TA_COUNTER"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OBS_UNIT" source="TA_OBS_UNIT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_NORMALIZED" source="TA_NORMALIZED"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OBS_VALUE" source="TA_OBS_VALUE"/>
    </input>
    <input node="BW">
      <mapping xsi:type="Calculation:AttributeMapping" target="DWID" source="DWID"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_COUNTER" source="TA_COUNTER"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OBS_UNIT" source="TA_OBS_UNIT"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_NORMALIZED" source="TA_NORMALIZED"/>
      <mapping xsi:type="Calculation:AttributeMapping" target="TA_OBS_VALUE" source="TA_OBS_VALUE"/>
    </input>
  </calculationView>
</calculationViews>
<logicalModel id="QuantitativeConcept">
  <attributes>
    <attribute id="DWID" order="1" displayAttribute="false" attributeHierarchyActive="false">
      <descriptions defaultDescription="DWID"/>
      <keyMapping columnObjectName="QuantitativeConcept" columnName="DWID"/>
    </attribute>
    <attribute id="TA_COUNTER" order="2" displayAttribute="false" attributeHierarchyActive="false">
      <descriptions defaultDescription="TA_PARENT"/>
      <keyMapping columnObjectName="QuantitativeConcept" columnName="TA_COUNTER"/>
    </attribute>
    <attribute id="TA_OBS_UNIT" order="3" displayAttribute="false" attributeHierarchyActive="false">
      <descriptions defaultDescription="TA_NORMALIZED"/>
      <keyMapping columnObjectName="QuantitativeConcept" columnName="TA_OBS_UNIT"/>
    </attribute>
    <attribute id="TA_NORMALIZED" order="4" displayAttribute="false" attributeHierarchyActive="false">
      <descriptions defaultDescription="TA_NORMALIZED"/>
      <keyMapping columnObjectName="QuantitativeConcept" columnName="TA_NORMALIZED"/>
    </attribute>
    <attribute id="TA_OBS_VALUE" order="5" displayAttribute="false" attributeHierarchyActive="false">
      <descriptions defaultDescription="TA_OBS_VALUE"/>
      <keyMapping columnObjectName="QuantitativeConcept" columnName="TA_OBS_VALUE"/>
    </attribute>
  </attributes>
  <calculatedAttributes/>
  <baseMeasures/>
  <calculatedMeasures/>
  <restrictedMeasures/>
</logicalModel>
<layout>
  <shapes>
    <shape expanded="true" modelObjectName="Output" modelObjectNameSpace="MeasureGroup">
      <upperLeftCorner x="623.7892658562266" y="112"/>
    
      <rectangleSize width="160"/>
    </shape>
  
    <shape expanded="true" modelObjectName="PS_UNIT_rule" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="746.0000000000005" y="676.9999964237213"/>
      <rectangleSize height="30" width="160"/>
    </shape>
    <shape expanded="true" modelObjectName="PS_UNIT_DICTIONARY" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="512.0000000000005" y="676.9999964237213"/>
      <rectangleSize height="30" width="184"/>
    </shape>
    <shape expanded="true" modelObjectName="PS_UNIT_collapsing" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="644.8951641016565" y="516.9999976158142"/>
      <rectangleSize height="30" width="178"/>
    </shape>
    <shape modelObjectName="PS_UNIT_rule" modelObjectNameSpace="PS_UNIT_collapsing" modelObjectType="JoinNodeInput">
      <upperLeftCorner x="20" y="30"/>
      <rectangleSize width="250"/>
    </shape>
    <shape modelObjectName="PS_UNIT_DICTIONARY" modelObjectNameSpace="PS_UNIT_collapsing" modelObjectType="JoinNodeInput">
      <upperLeftCorner x="320" y="30"/>
      <rectangleSize width="250"/>
    </shape>
    <shape expanded="true" modelObjectName="PS_VALUE_DICTIONARY" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="859.4697423455405" y="981.9999940395355"/>
      <rectangleSize height="30" width="215"/>
    </shape>
    <shape expanded="true" modelObjectName="PS_VALUE_rule" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="1124.4697423455405" y="981.9999940395355"/>
      <rectangleSize width="160"/>
    </shape>
    <shape expanded="true" modelObjectName="PS_VALUE_collapsing" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="1006.2360490206031" y="821.9999952316284"/>
      <rectangleSize height="30" width="191"/>
    </shape>
    <shape modelObjectName="PS_VALUE_rule" modelObjectNameSpace="PS_VALUE_collapsing" modelObjectType="JoinNodeInput">
      <upperLeftCorner x="405" y="101"/>
      <rectangleSize width="250"/>
    </shape>
    <shape modelObjectName="PS_VALUE_DICTIONARY" modelObjectNameSpace="PS_VALUE_collapsing" modelObjectType="JoinNodeInput">
      <upperLeftCorner x="779" y="98"/>
      <rectangleSize width="250"/>
    </shape>
    <shape expanded="true" modelObjectName="ECOG_VALUE" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="956.3968984551643" y="676.9999964237213"/>
      <rectangleSize height="30" width="160"/>
    </shape>
  
    <shape expanded="true" modelObjectName="KARNOFSKY_VALUE" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="1166.3968984551643" y="676.9999964237213"/>
      <rectangleSize height="30" width="176"/>
    </shape>
    <shape expanded="true" modelObjectName="PS_VALUE" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="958.6044996849671" y="530.3333309491475"/>
      <rectangleSize height="30" width="160"/>
    </shape>
    <shape expanded="true" modelObjectName="PS" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="680.5618307683233" y="356.9999988079071"/>
      <rectangleSize height="30" width="160"/>
    </shape>
    <shape modelObjectName="PS_UNIT_collapsing" modelObjectNameSpace="PS" modelObjectType="JoinNodeInput">
      <upperLeftCorner x="20" y="30"/>
      <rectangleSize width="250"/>
    </shape>
    <shape modelObjectName="PS_VALUE" modelObjectNameSpace="PS" modelObjectType="JoinNodeInput">
      <upperLeftCorner x="320" y="30"/>
      <rectangleSize width="250"/>
    </shape>
  
    <shape expanded="true" modelObjectName="BW_VALUE_rule" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="302.0000000000001" y="676.9999964237213"/>
      <rectangleSize height="30" width="160"/>
    </shape>
    <shape expanded="true" modelObjectName="BW_UNIT_rule" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="92" y="676.9999964237213"/>
      <rectangleSize width="160"/>
    </shape>
    <shape expanded="true" modelObjectName="BW_VALUE" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="382.4004858007271" y="534.4999976158142"/>
      <rectangleSize height="30" width="160"/>
    </shape>
  
    <shape expanded="true" modelObjectName="BW_UNIT" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="92" y="534.4999976158142"/>
      <rectangleSize height="30" width="160"/>
    </shape>
    <shape expanded="true" modelObjectName="BW" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="355.73381913406047" y="370.3333321412405"/>
      <rectangleSize height="30" width="160"/>
    </shape>
    <shape modelObjectName="BW_VALUE" modelObjectNameSpace="BW" modelObjectType="JoinNodeInput">
      <upperLeftCorner x="20" y="30"/>
      <rectangleSize width="250"/>
    </shape>
    <shape modelObjectName="BW_UNIT" modelObjectNameSpace="BW" modelObjectType="JoinNodeInput">
      <upperLeftCorner x="320" y="30"/>
      <rectangleSize width="250"/>
    </shape>
    <shape expanded="true" modelObjectName="QuantitativeConcept" modelObjectNameSpace="CalculationView">
      <upperLeftCorner x="607.2892658562266" y="217"/>
      <rectangleSize height="30" width="193"/>
    </shape>
  </shapes>
</layout>
</Calculation:scenario>