{
	"resourceType": "CatalogDefinition",
	"id": "patient_catalog",
	"target": {
		"reference": "http://hl7.org/fhir/StructureDefinition/Patient"
	},
	"table": [
		{
			"id": "Patient",
			"definition": {
				"reference": "HCIMPatient"
			},
			"cardinality": "1",
			"referenceColumn": {
				"type": "column",
				"name": "_RecordKey"
			}
		},
		{
			"id": "MaritalStatus",
			"definition": {
				"reference": "HCIMMaritialStatusView"
			},
			"cardinality": "1",
			"referenceColumn": {
				"type": "column",
				"name": "Subject_Patient"
			}
		},
		{
			"id": "PatientIdentifier",
			"definition": {
				"reference": "HCIMPatientIdentifiers"
			},
			"cardinality": "*",
			"referenceColumn": {
				"type": "column",
				"name": "_PatientRecordKey"
			}
		},
		{
			"id": "PatientAddress",
			"definition": {
				"reference": "HCIMAddressInformation"
			},
			"cardinality": "*",
			"referenceColumn": {
				"type": "column",
				"name": "_BelongsTo"
			}
		},
		{
			"id": "ContactInformation",
			"definition": {
				"reference": "HCIMContactInformation"
			},
			"cardinality": "1",
			"referenceColumn": {
				"type": "column",
				"name": "_BelongsToPerson"
			}
		},
		{
			"id": "ContactPerson",
			"definition": {
				"reference": "HCIMContactPerson"
			},
			"cardinality": "1",
			"referenceColumn": {
				"type": "column",
				"name": "_BelongsToPerson"
			},
			"keyColumn": {
				"type": "column",
				"name": "_RecordKey"
			},
			"table": [
				{
					"id": "ContactPersonAddress",
					"definition": {
						"reference": "HCIMAddressInformation"
					},
					"cardinality": "*",
					"referenceColumn": {
						"type": "column",
						"name": "_BelongsTo"
					}
				}
			]
		}
	],
	"mapping": [
		{
			"dataelement": "Patient.id",
			"tableid": "Patient",
			"type": "column",
			"column": "_RecordKey",
			"searchable": true
		},
		{
			"dataelement": "Patient.identifier.value",
			"tableid": "PatientIdentifier",
			"type": "column",
			"condition": "false",
			"column": "PatientIdentificationNumber",
			"searchable": true
		},
		{
			"dataelement": "Patient.identifier.system",
			"tableid": "PatientIdentifier",
			"type": "column",
			"column": "ID_System_OID",
			"condition": "false",
			"searchable": true
		},
		{
			"dataelement": "Patient.meta.profile",
			"tableid": "Patient",
			"type": "value",
			"value": "http://nictiz.nl/fhir/StructureDefinition/nl-core-patient",
			"searchable": false
		},
		{
			"dataelement": "Patient.active",
			"tableid": "Patient",
			"type": "value",
			"value": "true",
			"searchable": false
		},
		{
			"dataelement": "Patient.birthDate",
			"tableid": "Patient",
			"type": "column",
			"column": "DateOfBirth",
			"searchable": false
		},
		{
			"dataelement": "Patient.gender",
			"tableid": "Patient",
			"type": "column",
			"column": "Gender_CD",
			"conceptmap": {
				"reference": "bgzgender"
			},
			"searchable": false
		},
		{
			"dataelement": "Patient.maritalStatus.coding",
			"tableid": "MaritalStatus",
			"type": "complex",
			"children": [
				{
					"dataelement": "Patient.maritalStatus.coding.system",
					"tableid": "MaritalStatus",
					"type": "column",
					"column": "MaritalStatusCodesystemOID"
				},
				{
					"dataelement": "Patient.maritalStatus.coding.code",
					"tableid": "MaritalStatus",
					"type": "column",
					"column": "MaritalStatus_CD"
				},
				{
					"dataelement": "Patient.maritalStatus.coding.display",
					"tableid": "MaritalStatus",
					"type": "column",
					"column": "MaritalStatusDisplay"
				}
			]
		},
		{
			"dataelement": "Patient.maritalStatus.text",
			"tableid": "MaritalStatus",
			"type": "column",
			"column": "_MaritalStatus"
		},
		{
			"dataelement": "Patient.identifier",
			"tableid": "PatientIdentifier",
			"type": "complex",
			"children": [
				{
					"dataelement": "Patient.identifier.system",
					"tableid": "PatientIdentifier",
					"type": "column",
					"column": "ID_System_OID"
				},
				{
					"dataelement": "Patient.identifier.value",
					"tableid": "PatientIdentifier",
					"type": "column",
					"column": "PatientIdentificationNumber"
				}
			]
		},
		{
			"dataelement": "Patient.name",
			"tableid": "Patient",
			"type": "complex",
			"children": [
				{
					"dataelement": "Patient.name.use",
					"tableid": "Patient",
					"type": "value",
					"value": "official"
				},
				{
					"dataelement": "Patient.name.family",
					"tableid": "Patient",
					"type": "column",
					"column": "LastName",
					"children": [
						{
							"dataelement": "Patient.name.family.extension",
							"tableid": "Patient",
							"type": "complex",
							"column": "Prefix",
							"children": [
								{
									"dataelement": "Patient.name.family.extension.url",
									"tableid": "Patient",
									"type": "value",
									"value": "http://hl7.org/fhir/StructureDefinition/humanname-own-prefix"
								},
								{
									"dataelement": "Patient.name.family.extension.valueString",
									"tableid": "Patient",
									"type": "column",
									"column": "Prefix"
								}
							]
						},
						{
							"dataelement": "Patient.name.family.extension",
							"tableid": "Patient",
							"type": "complex",
							"column": "PartnerPrefix",
							"children": [
								{
									"dataelement": "Patient.name.family.extension.url",
									"tableid": "Patient",
									"type": "value",
									"value": "http://hl7.org/fhir/StructureDefinition/humanname-partner-prefix"
								},
								{
									"dataelement": "Patient.name.family.extension.valueString",
									"tableid": "Patient",
									"type": "column",
									"column": "PartnerPrefix"
								}
							]
						},
						{
							"dataelement": "Patient.name.family.extension",
							"tableid": "Patient",
							"type": "complex",
							"column": "LastName",
							"children": [
								{
									"dataelement": "Patient.name.family.extension.url",
									"tableid": "Patient",
									"type": "value",
									"value": "http://hl7.org/fhir/StructureDefinition/humanname-own-name"
								},
								{
									"dataelement": "Patient.name.family.extension.valueString",
									"tableid": "Patient",
									"type": "column",
									"column": "LastName"
								}
							]
						},
						{
							"dataelement": "Patient.name.family.extension",
							"tableid": "Patient",
							"type": "complex",
							"column": "PartnerLastName",
							"children": [
								{
									"dataelement": "Patient.name.family.extension.url",
									"tableid": "Patient",
									"type": "value",
									"value": "http://hl7.org/fhir/StructureDefinition/humanname-partner-name"
								},
								{
									"dataelement": "Patient.name.family.extension.valueString",
									"tableid": "Patient",
									"type": "column",
									"column": "PartnerLastName"
								}
							]
						}
					]
				},
				{
					"dataelement": "Patient.name.given",
					"tableid": "Patient",
					"type": "column",
					"column": "FirstName"
				},
				{
					"dataelement": "Patient.name.given",
					"tableid": "Patient",
					"type": "column",
					"column": "Initial",
					"children": [
						{
							"dataelement": "Patient.name.given.extension",
							"tableid": "Patient",
							"type": "complex",
							"children": [
								{
									"dataelement": "Patient.name.given.extension.url",
									"tableid": "Patient",
									"type": "value",
									"value": "http://hl7.org/fhir/StructureDefinition/iso21090-EN-qualifier"
								},
								{
									"dataelement": "Patient.name.given.extension.valueString",
									"tableid": "Patient",
									"type": "value",
									"value": "IN"
								}
							]
						}
					]
				},
				{
					"dataelement": "Patient.name.given",
					"tableid": "Patient",
					"type": "column",
					"column": "GivenName"
				}
			]
		},
		{
			"dataelement": "Patient.name.extension",
			"tableid": "Patient",
			"type": "complex",
			"children": [
				{
					"dataelement": "Patient.name.extension.url",
					"tableid": "Patient",
					"type": "value",
					"value": "http://hl7.org/fhir/StructureDefinition/humanname-assembly-order"
				},
				{
					"dataelement": "Patient.name.extension.valueCode",
					"tableid": "Patient",
					"type": "column",
					"column": "NameUsage_CD"
				}
			]
		},
		{
			"dataelement": "Patient.address",
			"tableid": "PatientAddress",
			"type": "complex",
			"children": [
				{
					"dataelement": "Patient.address.use",
					"tableid": "PatientAddress",
					"conceptmap": {
						"reference": "bgzaddresstype"
					},
					"type": "column",
					"column": "AddressType_CD"
				},
				{
					"dataelement": "Patient.address.type",
					"tableid": "PatientAddress",
					"type": "column",
					"column": "AddressType_CD"
				},
				{
					"dataelement": "Patient.address.line",
					"tableid": "PatientAddress",
					"type": "expression",
					"expression": "PatientAddress.Street&(' '+PatientAddress.HouseNumber+PatientAddress.HouseNumberLetter)"
				},
				{
					"dataelement": "Patient.address.city",
					"tableid": "PatientAddress",
					"type": "column",
					"column": "PlaceOfResidence"
				},
				{
					"dataelement": "Patient.address.district",
					"tableid": "PatientAddress",
					"type": "column",
					"column": "Municipality"
				},
				{
					"dataelement": "Patient.address.postalCode",
					"tableid": "PatientAddress",
					"type": "column",
					"column": "Postcode"
				},
				{
					"dataelement": "Patient.address.country",
					"tableid": "PatientAddress",
					"type": "column",
					"column": "Country"
				}
			]
		},
		{
			"dataelement": "Patient.address.extension",
			"tableid": "PatientAddress",
			"condition": "PatientAddress.AddressType_CD='HP'",
			"type": "complex",
			"children": [
				{
					"dataelement": "Patient.address.extension.url",
					"type": "value",
					"value": "http://fhir.nl/fhir/StructureDefinition/nl-core-address-official"
				},
				{
					"dataelement": "Patient.address.extension.valueBoolean",
					"type": "value",
					"value": "true"
				}
			]
		},
		{
			"dataelement": "Patient.multipleBirthInteger",
			"tableid": "Patient",
			"condition": "Patient.MultipleBirthIndicator.toInteger()>0",
			"type": "column",
			"column": "MultipleBirthIndicator"
		},
		{
			"dataelement": "Patient.deceasedBoolean",
			"tableid": "Patient",
			"condition": "Patient.DeathIndicator='FALSE'",
			"type": "value",
			"value": "true"
		},
		{
			"dataelement": "Patient.telecom",
			"tableid": "ContactInformation",
			"type": "complex",
			"column": "TelephoneNumber",
			"children": [
				{
					"dataelement": "Patient.telecom.value",
					"tableid": "ContactInformation",
					"type": "column",
					"column": "TelephoneNumber"
				},
				{
					"dataelement": "Patient.telecom.system",
					"tableid": "ContactInformation",
					"conceptmap": {
						"reference": "bgztelecomtype"
					},
					"type": "column",
					"column": "TelecomType_CD"
				},
				{
					"dataelement": "Patient.telecom.use",
					"tableid": "ContactInformation",
					"conceptmap": {
						"reference": "bgznumbertype"
					},
					"type": "column",
					"column": "NumberType_CD"
				}
			]
		},
		{
			"dataelement": "Patient.telecom",
			"tableid": "ContactInformation",
			"type": "complex",
			"column": "EmailAddress",
			"children": [
				{
					"dataelement": "Patient.telecom.value",
					"tableid": "ContactInformation",
					"type": "column",
					"column": "EmailAddress"
				},
				{
					"dataelement": "Patient.telecom.system",
					"tableid": "ContactInformation",
					"type": "value",
					"value": "mail"
				},
				{
					"dataelement": "Patient.telecom.use",
					"tableid": "ContactInformation",
					"conceptmap": {
						"reference": "bgzemailaddresstype"
					},
					"type": "column",
					"column": "EmailAddressType_CD"
				}
			]
		}
	]
}