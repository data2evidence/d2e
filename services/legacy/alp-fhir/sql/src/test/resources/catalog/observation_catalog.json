{
	"resourceType": "CatalogDefinition",
	"id": "observation_catalog",
	"target": {
		"reference": "http://hl7.org/fhir/StructureDefinition/Observation"
	},
	"table": [
		{
			"id": "Observation",
			"definition": {
				"reference": "HCIMObservationView"
			},
			"cardinality": "1",
			"referenceColumn": {
				"type": "column",
				"name": "_RecordKey"
			}
		},
		{
			"id": "BodyWeight",
			"definition": {
				"reference": "HCIMBodyWeight"
			},
			"cardinality": "1",
			"referenceColumn": {
				"type": "column",
				"name": "_RecordKey"
			}
		}
	],
	"mapping": [
		{
			"dataelement": "Observation.id",
			"tableid": "Observation",
			"type": "column",
			"column": "_RecordKey",
			"searchable": true
		},
		{
			"dataelement": "Observation.category.coding.system",
			"tableid": "Observation",
			"type": "column",
			"condition": "false",
			"column": "CategorySystem",
			"searchable": true
		},
		{
			"dataelement": "Observation.category.coding.code",
			"tableid": "Observation",
			"type": "column",
			"condition": "false",
			"column": "CategoryCode",
			"searchable": true
		},
		{
			"dataelement": "Observation.code.coding.system",
			"tableid": "Observation",
			"type": "column",
			"condition": "false",
			"column": "CodeSystem",
			"searchable": true
		},
		{
			"dataelement": "Observation.code.coding.code",
			"tableid": "Observation",
			"type": "column",
			"condition": "false",
			"column": "CodeCode",
			"searchable": true
		},
		{
			"dataelement": "Observation.subject.reference",
			"tableid": "Observation",
			"type": "column",
			"column": "SubjectPatient",
			"searchable": true
		},
		{
			"dataelement": "Observation.category.coding",
			"tableid": "Observation",
			"type": "complex",
			"children": [
				{
					"dataelement": "Observation.category.coding.system",
					"tableid": "Observation",
					"type": "column",
					"column": "CategorySystem"
				},
				{
					"dataelement": "Observation.category.coding.code",
					"tableid": "Observation",
					"type": "column",
					"column": "CategoryCode"
				}
			]
		},
		{
			"dataelement": "Observation.code.coding",
			"tableid": "Observation",
			"type": "complex",
			"children": [
				{
					"dataelement": "Observation.code.coding.system",
					"tableid": "Observation",
					"type": "column",
					"column": "CodeSystem"
				},
				{
					"dataelement": "Observation.code.coding.code",
					"tableid": "Observation",
					"type": "column",
					"column": "CodeCode"
				}
			]
		},
		{
			"dataelement": "Observation.effectiveDateTime",
			"tableid": "Observation",
			"type": "column",
			"column": "EffectiveDateTime",
			"searchable": false
		},
		{
			"dataelement": "Observation.meta.profile",
			"tableid": "BodyWeight",
			"type": "value",
			"value": "http://nictiz.nl/fhir/StructureDefinition/zib-BodyWeight",
			"searchable": false
		},
		{
			"dataelement": "Observation.comment",
			"tableid": "BodyWeight",
			"type": "column",
			"column": "Comment",
			"searchable": false
		},
		{
			"dataelement": "Observation.valueQuantity",
			"tableid": "BodyWeight",
			"type": "complex",
			"children": [
				{
					"dataelement": "Observation.valueQuantity.system",
					"tableid": "BodyWeight",
					"type": "value",
					"value": "http://unitsofmeasure.org"
				},
				{
					"dataelement": "Observation.valueQuantity.value",
					"tableid": "BodyWeight",
					"type": "expression",
					"column": "WeightValue_g",
					"expression": "BodyWeight.WeightValue_g.toDecimal() / 1000.0"
				},
				{
					"dataelement": "Observation.valueQuantity.unit",
					"tableid": "BodyWeight",
					"type": "value",
					"value": "kg"
				}
			],
			"searchable": false
		},
		{
			"dataelement": "Observation.component",
			"tableid": "BodyWeight",
			"type": "complex",
			"column": "Clothing_CD",
			"children": [
				{
					"dataelement": "Observation.component.code",
					"tableid": "BodyWeight",
					"type": "complex",
					"children": [
						{
							"dataelement": "Observation.component.code.coding",
							"tableid": "BodyWeight",
							"type": "complex",
							"children": [
								{
									"dataelement": "Observation.component.code.coding.system",
									"tableid": "BodyWeight",
									"type": "value",
									"value": "http://loinc.org"
								},
								{
									"dataelement": "Observation.component.code.coding.code",
									"tableid": "BodyWeight",
									"type": "value",
									"value": "8352-7"
								}
							]
						}
					]
				},
				{
					"dataelement": "Observation.component.valueCodeableConcept",
					"tableid": "BodyWeight",
					"type": "complex",
					"children": [
						{
							"dataelement": "Observation.component.valueCodeableConcept.coding",
							"tableid": "BodyWeight",
							"type": "complex",
							"children": [
								{
									"dataelement": "Observation.component.valueCodeableConcept.coding.system",
									"tableid": "BodyWeight",
									"type": "value",
									"value": "urn:oid:2.16.840.1.113883.2.4.3.11.60.40.4.8.1"
								},
								{
									"dataelement": "Observation.component.valueCodeableConcept.coding.code",
									"tableid": "BodyWeight",
									"type": "column",
									"column": "Clothing_CD"
								}
							]
						}
					]
				}
			]
		}
	]
}