{
	"info": {
		"_postman_id": "c64fb02b-43ce-45f7-85f4-bcada3ea7097",
		"name": "Security-Permisson",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Create Security Resource",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c46c8ce9-25af-4435-8503-c1246ed251ed",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI5Y2MyN2E4YzNiMGY0YzhlOThlMjBlZDExYWM5NjNiMSIsImV4dF9hdHRyIjp7ImVuaGFuY2VyIjoiWFNVQUEifSwic3ViIjoiMTYwMDQ5Iiwic2NvcGUiOlsib3BlbmlkIl0sImNsaWVudF9pZCI6InNiLWZoaXJzZXJ2ZXIhaTEiLCJjaWQiOiJzYi1maGlyc2VydmVyIWkxIiwiYXpwIjoic2ItZmhpcnNlcnZlciFpMSIsImdyYW50X3R5cGUiOiJwYXNzd29yZCIsInVzZXJfaWQiOiIxNjAwNDkiLCJvcmlnaW4iOiJ1YWEiLCJ1c2VyX25hbWUiOiJYU0FfQURNSU4iLCJlbWFpbCI6IlhTQV9BRE1JTkBDSDIiLCJnaXZlbl9uYW1lIjoiIiwiZmFtaWx5X25hbWUiOiIiLCJhdXRoX3RpbWUiOjE1Mzk5MzIyMDgsInJldl9zaWciOiI2YzhmYmM3YyIsImlhdCI6MTUzOTkzMjIwOCwiZXhwIjoxNTM5OTc1NDA4LCJpc3MiOiJodHRwOi8vMTU2MjE2ZTctZWNhMC1mNzQ5LWI0MDAtZDMyZjc3ZTM5Njc1L1VBQS9vYXV0aC90b2tlbiIsInppZCI6InVhYSIsInhzLnVzZXIuYXR0cmlidXRlcyI6eyJzeXN0ZW0iOlsiWCJdLCJncm91cElkIjpbIkhDSU1QYXRpZW50R3JvdXAiXSwidXNlcklkIjpbIjEiXX0sImF1ZCI6WyJzYi1maGlyc2VydmVyIWkxIiwib3BlbmlkIl19.R6_ks9bnjdeGwaKX_mtuSxZzKDdnCU8hFHYMvRnsIKBRmtZA09N44fv0vip-9cMbKI0W7RhFSgIITDPPUSR74duFqSoe91m7NKmj5j0FiVqJzRFaIkG42r1MMlJQEAyoh0X9grqCHOawaq8-ySZJsK3TmhuK8QtjWUSBk1NDblRT_OOH304kLNN1xf2rUj-M6eyPDsx59CwwTi2K1hL7IdES7fSMrqdfw-wPmKrDRnVIn01MUGYuPntT_3YYtPMb1BEZlVvHBRskXUgzWgsvtg9931mVGaTD2ydeZiCEeHBat7aNh45d7UvesI1kugn1WIkLzAV0rXx5jbYdSOauew",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n                \"resourceType\": \"Permission\",\n                \"id\": \"HCIMPatientGroupPermission\",\n                \"group\": \"HCIMPatientGroup\",\n                \"requiredAttributesFHIR\": [\"attr.userId\",\"attr.system\"],\n                \"restPermission\": [\n                    {\n                        \"type\": \"resource\",\n                        \"definition\": {\n                            \"reference\": \"http://hl7.org/fhir/StructureDefinition/Patient\"\n                        },\n                        \"grant\": [\n                            \"read\"\n                        ]\n                    },{\n                        \"type\": \"resource\",\n                        \"definition\": {\n                            \"reference\": \"http://hl7.org/fhir/StructureDefinition/Observation\"\n                        },\n                        \"grant\": [\n                            \"read\"\n                        ]\n                    }\n                ],\n                \"instancePermission\": [\n                    {\n                        \"type\": \"resource\",\n                        \"definition\": {\n                            \"reference\": \"http://hl7.org/fhir/StructureDefinition/Patient\"\n                        },\n                        \"grant\": [\n                            \"read\"\n                        ],\n                        \"constraintType\": \"elementMap\",\n                        \"element\": \"identifier\",\n                         \"value\": \"$attr.system|$attr.system\"\n                    },{\n                        \"type\": \"resource\",\n                        \"definition\": {\n                            \"reference\": \"http://hl7.org/fhir/StructureDefinition/Observation\"\n                        },\n                        \"grant\": [\n                            \"read\"\n                        ],\n                        \"constraintType\": \"elementMap\",\n                        \"element\": \"patient.identifier\",\n                        \"value\": \"$attr.system|$attr.system\"\n                    }\n                ]\n}"
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/Permission",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"Permission"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Security Resources",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c70dfa83-5bca-48ea-9a23-0f25fdf71d61",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/Permission",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"Permission"
					]
				}
			},
			"response": []
		},
		{
			"name": "Search All Patients To which we have access",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c70dfa83-5bca-48ea-9a23-0f25fdf71d61",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo/fhir/Patient/",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo",
						"fhir",
						"Patient",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "Search All Observations To which we have access",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c70dfa83-5bca-48ea-9a23-0f25fdf71d61",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo/fhir/Observation/",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo",
						"fhir",
						"Observation",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "Search Patient Name Address",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c70dfa83-5bca-48ea-9a23-0f25fdf71d61",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI5N2I3NDM3ZmQ3Y2E0M2NkYjY2NGFkZWZjN2YzMWMyMiIsImV4dF9hdHRyIjp7ImVuaGFuY2VyIjoiWFNVQUEifSwic3ViIjoiMTY4NjQ1Iiwic2NvcGUiOlsib3BlbmlkIl0sImNsaWVudF9pZCI6InNiLWZoaXJzZXJ2ZXIhaTE3IiwiY2lkIjoic2ItZmhpcnNlcnZlciFpMTciLCJhenAiOiJzYi1maGlyc2VydmVyIWkxNyIsImdyYW50X3R5cGUiOiJwYXNzd29yZCIsInVzZXJfaWQiOiIxNjg2NDUiLCJvcmlnaW4iOiJ1YWEiLCJ1c2VyX25hbWUiOiJKRVJJTiIsImVtYWlsIjoiamVyaW5Ac2FwLmNvbSIsImdpdmVuX25hbWUiOiJKZXJpbiIsImZhbWlseV9uYW1lIjoiQWJyYWhhbSIsImF1dGhfdGltZSI6MTUzODM1ODU0MCwicmV2X3NpZyI6IjkyOWU3Yzk0IiwiaWF0IjoxNTM4MzU4NTQwLCJleHAiOjE1Mzg0MDE3NDAsImlzcyI6Imh0dHA6Ly9kOGVlYzVkMC01ODY4LTU0NDctYjMwOS0yMjgzNDViYzIxZTgvVUFBL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwieHMudXNlci5hdHRyaWJ1dGVzIjp7InN5c3RlbSI6WyIyLjE2Ljg0MC4xLjExMzg4My4yLjQuNi4zIl0sImdyb3VwSWQiOlsiSENJTVBhdGllbnRHcm91cCJdLCJ1c2VySWQiOlsiMTIzMzIzMzIiXX0sImF1ZCI6WyJzYi1maGlyc2VydmVyIWkxNyIsIm9wZW5pZCJdfQ.Y2vHfRzxzbBtvT_B6GqdonrvLXeJwCR_IcYbtTmAL7BGlblVimWb5G-ojNf9nhCugLmSM3BLATEa1YPQXsaoGe0HPlnc6NvX3l6ei5FuxEzEL17dsqvC_q1ZbDqoNnllWrN2krJTsp4SJkcNuIeq6zVcIsWCZ3iPA5PeRN18BjDShmcVaeY1vHkYft-ciUV_Hx2bsjhOpc23VvZuGcv6N-vQO_MYGnR3QR-hlRGYsI6XY2kn73d5N3LwKT6Zbs0yuquL-c85y4r8IK8cmLxIKdpYWgPLbVhOCMi6zVoTByeMpLV_K1xWwKh95l-CTGhb4pXPPIytt8HY8Zo7HxU1LA",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo/fhir/Patient?_elements=name,address",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo",
						"fhir",
						"Patient"
					],
					"query": [
						{
							"key": "_elements",
							"value": "name,address"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Security - Disable Observation Read",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c46c8ce9-25af-4435-8503-c1246ed251ed",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIwMWEyN2NjY2JkN2E0M2E5YTA2YjAwNjI1ZTE1ZjNhMSIsImV4dF9hdHRyIjp7ImVuaGFuY2VyIjoiWFNVQUEifSwic3ViIjoiMTY4NjQ1Iiwic2NvcGUiOlsib3BlbmlkIl0sImNsaWVudF9pZCI6InNiLWZoaXJzZXJ2ZXIhaTE3IiwiY2lkIjoic2ItZmhpcnNlcnZlciFpMTciLCJhenAiOiJzYi1maGlyc2VydmVyIWkxNyIsImdyYW50X3R5cGUiOiJwYXNzd29yZCIsInVzZXJfaWQiOiIxNjg2NDUiLCJvcmlnaW4iOiJ1YWEiLCJ1c2VyX25hbWUiOiJKRVJJTiIsImVtYWlsIjoiamVyaW5Ac2FwLmNvbSIsImdpdmVuX25hbWUiOiJKZXJpbiIsImZhbWlseV9uYW1lIjoiQWJyYWhhbSIsImF1dGhfdGltZSI6MTUzODMxMzU5MCwicmV2X3NpZyI6IjkyOWU3Yzk0IiwiaWF0IjoxNTM4MzEzNTkxLCJleHAiOjE1MzgzNTY3OTEsImlzcyI6Imh0dHA6Ly9kOGVlYzVkMC01ODY4LTU0NDctYjMwOS0yMjgzNDViYzIxZTgvVUFBL29hdXRoL3Rva2VuIiwiemlkIjoidWFhIiwieHMudXNlci5hdHRyaWJ1dGVzIjp7InN5c3RlbSI6WyIyLjE2Ljg0MC4xLjExMzg4My4yLjQuNi4zIl0sImdyb3VwSWQiOlsiSENJTVBhdGllbnRHcm91cCJdLCJ1c2VySWQiOlsiOTk5OTExMzM4Il19LCJhdWQiOlsic2ItZmhpcnNlcnZlciFpMTciLCJvcGVuaWQiXX0.i2BniQyCsRfFoE2btZfEa8skZopVWX2dqxJb1A1Rd_sNopP7kwlbK0StPkemKFc_62g4JeMFV99WkVpIk-xEwn4U94P665EOhnwRJcyjfrrMQRMzHoAwl7RurfJadIJ_vSoX6b0zK_WpG3w4uJy6GYRI_TSKNMLfv1E57o547-MW9lBKW8ZR873kOu3Nms3dsNXkQPuu-gNVPyUg_vLjHcMoJPgb0cb4g82fZk6sIF5QiJAYhB09nZpi0yBsWfK5-KUuGhkCMJ8Rmiw9e43Fj_UgP2AYJjO8zETNs6VCbdmPxpdd1b7bS4huXisl3d_NOPn6mv0yXDIOVBfN7gvu1g",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n                \"resourceType\": \"Permission\",\n                \"id\": \"HCIMPatientGroupPermission\",\n                \"group\": \"HCIMPatientGroup\",\n                \"restPermission\": [\n                    {\n                        \"type\": \"resource\",\n                        \"definition\": {\n                            \"reference\": \"http://hl7.org/fhir/StructureDefinition/Patient\"\n                        },\n                        \"grant\": [\n                            \"read\"\n                        ]\n                    },{\n                        \"type\": \"resource\",\n                        \"definition\": {\n                            \"reference\": \"http://hl7.org/fhir/StructureDefinition/Observation\"\n                        },\n                        \"grant\": [\n                            \"read\"\n                        ]\n                    }\n                ],\n                \"instancePermission\": [\n                    {\n                        \"type\": \"resource\",\n                        \"definition\": {\n                            \"reference\": \"http://hl7.org/fhir/StructureDefinition/Patient\"\n                        },\n                        \"grant\": [\n                            \"read\"\n                        ],\n                        \"constraintType\": \"elementMap\",\n                        \"element\": \"identifier\",\n                        \"value\": \"$attr.userId\"\n                    }\n                ]\n}"
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/Permission",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"Permission"
					]
				}
			},
			"response": []
		}
	]
}