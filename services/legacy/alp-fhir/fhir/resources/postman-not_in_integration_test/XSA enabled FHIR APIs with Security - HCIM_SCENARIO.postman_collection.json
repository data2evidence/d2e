{
	"info": {
		"_postman_id": "e0f7c787-728d-44b2-8a81-c3eb93f9fa8d",
		"name": "XSA enabled FHIR APIs with Security - HCIM_SCENARIO",
		"description": "Here we focus on executing a set of API's that does a scanity check for the following:\n\n1) Security Authentication enablement\n2) Security Authorization enablement (API Auth and Instance Auth)\n3) Audit Logging enablement",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Get Bearer Token - Init Admin",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "2d2094ce-6210-44a4-8f57-8c44ae51c1b5",
						"exec": [
							"pm.test(\"Initialize Enviornment\", function () {",
							"    var jsonData = pm.response.json();",
							"    postman.setEnvironmentVariable(\"bearerTokenInitAdmin\", jsonData[\"access_token\"]);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "{{applicationClientSecret}}",
							"type": "string"
						},
						{
							"key": "username",
							"value": "{{applicationClientID}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{uaaPort}}/uaa-security/oauth/token?grant_type=password&username={{initAdminUsername}}&password={{initAdminPassword}}&response_type=code&token_format=jwt",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{uaaPort}}",
					"path": [
						"uaa-security",
						"oauth",
						"token"
					],
					"query": [
						{
							"key": "grant_type",
							"value": "password"
						},
						{
							"key": "username",
							"value": "{{initAdminUsername}}"
						},
						{
							"key": "password",
							"value": "{{initAdminPassword}}"
						},
						{
							"key": "response_type",
							"value": "code"
						},
						{
							"key": "token_format",
							"value": "jwt"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Bearer Token - Content Admin",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "2d2094ce-6210-44a4-8f57-8c44ae51c1b5",
						"exec": [
							"pm.test(\"Initialize Enviornment\", function () {",
							"    var jsonData = pm.response.json();",
							"    postman.setEnvironmentVariable(\"bearerTokenContentAdmin\", jsonData[\"access_token\"]);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "{{applicationClientSecret}}",
							"type": "string"
						},
						{
							"key": "username",
							"value": "{{applicationClientID}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{uaaPort}}/uaa-security/oauth/token?grant_type=password&username={{contentAdminUsername}}&password={{contentAdminPassword}}&response_type=code&token_format=jwt",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{uaaPort}}",
					"path": [
						"uaa-security",
						"oauth",
						"token"
					],
					"query": [
						{
							"key": "grant_type",
							"value": "password"
						},
						{
							"key": "username",
							"value": "{{contentAdminUsername}}"
						},
						{
							"key": "password",
							"value": "{{contentAdminPassword}}"
						},
						{
							"key": "response_type",
							"value": "code"
						},
						{
							"key": "token_format",
							"value": "jwt"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Bearer Token - Endpoint Admin",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "2d2094ce-6210-44a4-8f57-8c44ae51c1b5",
						"exec": [
							"pm.test(\"Initialize Enviornment\", function () {",
							"    var jsonData = pm.response.json();",
							"    postman.setEnvironmentVariable(\"bearerTokenEndpointAdmin\", jsonData[\"access_token\"]);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "{{applicationClientSecret}}",
							"type": "string"
						},
						{
							"key": "username",
							"value": "{{applicationClientID}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{uaaPort}}/uaa-security/oauth/token?grant_type=password&username={{endpointAdminUsername}}&password={{endpointAdminPassword}}&response_type=code&token_format=jwt",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{uaaPort}}",
					"path": [
						"uaa-security",
						"oauth",
						"token"
					],
					"query": [
						{
							"key": "grant_type",
							"value": "password"
						},
						{
							"key": "username",
							"value": "{{endpointAdminUsername}}"
						},
						{
							"key": "password",
							"value": "{{endpointAdminPassword}}"
						},
						{
							"key": "response_type",
							"value": "code"
						},
						{
							"key": "token_format",
							"value": "jwt"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Bearer Token - Endpoint User",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "2d2094ce-6210-44a4-8f57-8c44ae51c1b5",
						"exec": [
							"pm.test(\"Initialize Enviornment\", function () {",
							"    var jsonData = pm.response.json();",
							"    postman.setEnvironmentVariable(\"bearerTokenEndpointUser2\", jsonData[\"access_token\"]);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "{{applicationClientSecret}}",
							"type": "string"
						},
						{
							"key": "username",
							"value": "{{applicationClientID}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{uaaPort}}/uaa-security/oauth/token?grant_type=password&username={{patient2Username}}&password={{patient2Password}}&response_type=code&token_format=jwt",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{uaaPort}}",
					"path": [
						"uaa-security",
						"oauth",
						"token"
					],
					"query": [
						{
							"key": "grant_type",
							"value": "password"
						},
						{
							"key": "username",
							"value": "{{patient2Username}}"
						},
						{
							"key": "password",
							"value": "{{patient2Password}}"
						},
						{
							"key": "response_type",
							"value": "code"
						},
						{
							"key": "token_format",
							"value": "jwt"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Initialize Platform",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "9fea45b9-5f60-4f03-ad85-b0fd93668eb0",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"response is capability\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"CapabilityStatement\")",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenInitAdmin}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Accept",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/init",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"init"
					]
				}
			},
			"response": []
		},
		{
			"name": "Upload HCIM Content",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c9ab1881-3fbf-4f03-8e4d-ae619b382c66",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Multiple checks on bundle \", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenContentAdmin}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Accept",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "file",
							"type": "file",
							"src": ""
						}
					]
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/upload",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"upload"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Scenario Definitions",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "feb624a1-cabf-4f76-b206-4c780a447c94",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Multiple checks on bundle\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(1)",
							"    pm.expect(jsonData.entry[0].resource.id).to.equal(\"hcimscenario\")",
							"    pm.expect(jsonData.entry[0].resource.category).to.equal(\"catalog\")",
							"    pm.expect(jsonData.entry[0].resource.resourceType).to.equal(\"ScenarioDefinition\")",
							"});",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenContentAdmin}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/ScenarioDefinition",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"ScenarioDefinition"
					]
				}
			},
			"response": []
		},
		{
			"name": "Enable Endpoint -  Scenario creation",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "bc078b27-0f57-47cc-9314-8e0c1a07ee4b",
						"exec": [
							"var capabilityResponse = {",
							"    \"resourceType\": \"CapabilityStatement\",",
							"    \"id\": \"bgz2017-servercapabilities-wrapper\",",
							"    \"instantiates\": [",
							"        \"http://nictiz.nl/fhir/CapabilityStatement/bgz2017-servercapabilities\"",
							"    ],",
							"    \"url\": \"http://hl7.org/fhir/CapabilityStatement/base\",",
							"    \"version\": \"1.0\",",
							"    \"name\": \"BGZ2017Server\",",
							"    \"status\": \"active\",",
							"    \"date\": \"2018-04-30\",",
							"    \"publisher\": \"Nictiz\",",
							"    \"contact\": [",
							"        {",
							"            \"name\": \"Nictiz\",",
							"            \"telecom\": [",
							"                {",
							"                    \"system\": \"email\",",
							"                    \"value\": \"info@nictiz.nl\",",
							"                    \"use\": \"work\"",
							"                }",
							"            ]",
							"        }",
							"    ],",
							"    \"description\": \"This CapabilityStatement describes the minimal requirements for a server to expose the \\\"Basisgegevensset Zorg\\\" (Dutch Patient Summary) based the Dutch Health and Care Information models (Dutch: Zorginformatiebouwsteen or ZIB), release 2017.\",",
							"    \"copyright\": \"CC0\",",
							"    \"kind\": \"requirements\",",
							"    \"fhirVersion\": \"3.0.1\",",
							"    \"acceptUnknown\": \"both\",",
							"    \"format\": [",
							"        \"xml\",",
							"        \"json\"",
							"    ],",
							"    \"profile\": [",
							"        {",
							"            \"reference\": \"http://fhir.nl/fhir/StructureDefinition/nl-core-patient\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-Payer\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-Problem\"",
							"        },",
							"        {",
							"            \"reference\": \"http://fhir.nl/fhir/StructureDefinition/nl-core-organization\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-TreatmentDirective\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-AdvanceDirective\"",
							"        },",
							"        {",
							"            \"reference\": \"http://fhir.nl/fhir/StructureDefinition/nl-core-relatedperson\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-FunctionalOrMentalStatus\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-LivingSituation\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-DrugUse\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-AlcoholUse\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-TobaccoUse\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-NutritionAdvice\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-Alert\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-AllergyIntolerance\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-MedicationUse\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-MedicationAgreement\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-AdministrationAgreement\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-MedicalDeviceProduct\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-MedicalDevice\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-Vaccination\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-VaccinationRecommendation\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-BloodPressure\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-BodyWeight\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-BodyHeight\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-LaboratoryTestResult-Observation\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-LaboratoryTestResult-DiagnosticReport\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-LaboratoryTestResult-Specimen\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-Procedure\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-Encounter\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-ProcedureRequest\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-VaccinationRecommendation\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-MedicalDeviceRequest\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-Appointment\"",
							"        },",
							"        {",
							"            \"reference\": \"http://fhir.nl/fhir/StructureDefinition/nl-core-practitioner\"",
							"        },",
							"        {",
							"            \"reference\": \"http://fhir.nl/fhir/StructureDefinition/nl-core-practitionerrole\"",
							"        }",
							"    ],",
							"    \"rest\": [",
							"        {",
							"            \"mode\": \"server\",",
							"            \"resource\": [",
							"                {",
							"                    \"type\": \"Permission\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        }",
							"                    ],",
							"                    \"searchInclude\": [],",
							"                    \"searchParam\": []",
							"                },",
							"                {",
							"                    \"type\": \"Patient\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchInclude\": [",
							"                        \"general-practitioner\"",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"identifier\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Coverage\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchInclude\": [",
							"                        \"Coverage:payor:Patient,Organization\"",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"subscriber\",",
							"                            \"type\": \"reference\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Consent\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Observation\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        },",
							"                        {",
							"                            \"name\": \"code\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Condition\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"NutritionOrder\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"status\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Flag\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"AllergyIntolerance\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"MedicationStatement\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchInclude\": [",
							"                        \"MedicationStatement.medication\"",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"status\",",
							"                            \"type\": \"token\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"MedicationRequest\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchInclude\": [",
							"                        \"MedicationRequest.medication\"",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"status\",",
							"                            \"type\": \"token\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"DeviceUseStatement\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchInclude\": [",
							"                        \"DeviceUseStatement:device\"",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Immunization\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"status\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Procedure\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Encounter\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"class\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"ProcedureRequest\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"ImmunizationRecommendation\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"MedicationDispense\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchInclude\": [",
							"                        \"MedicationDispense.medication\"",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"status\",",
							"                            \"type\": \"token\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"DeviceRequest\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"status\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Appointment\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"status\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                }",
							"            ],",
							"            \"operation\": [",
							"                {",
							"                    \"name\": \"Last N Observations Query\",",
							"                    \"definition\": {",
							"                        \"reference\": \"http://hl7.org/fhir/OperationDefinition/Observation-lastn\"",
							"                    }",
							"                },",
							"                {",
							"                    \"name\": \"FullPatientGet\",",
							"                    \"definition\": {",
							"                        \"reference\": \"http://email.com/fhir/OperationDefinition/Patient-fullget\"",
							"                    }",
							"                },",
							"                {",
							"                    \"name\": \"FullPatientDelete\",",
							"                    \"definition\": {",
							"                        \"reference\": \"http://email.com/fhir/OperationDefinition/Patient-fulldelete\"",
							"                    }",
							"                }",
							"            ]",
							"        }",
							"    ]",
							"};",
							"",
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"pm.test(\"Validate Response Body\", function () {",
							"    var response = pm.response.json();",
							"    pm.expect(response).to.eql(capabilityResponse);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenEndpointAdmin}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"id\":\"hcim4fhirgz\",\r\n\t\"resourceType\":\"Scenario\",\r\n\t\"definition\":{\r\n\t\t\"reference\":\"HCIMScenario_1_2\"\r\n\t},\r\n\t\"scope\":[\"base\",\"test\"],\r\n\t\"parameter\":[\r\n\t\t{\r\n\t\t\t\"name\":\"endpoint\",\r\n\t\t\t\"valueString\":\"hcim_scenario\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\":\"HCIMPatientGroupPermission_1_2.groupId\",\r\n\t\t\t\"valueString\":\"HCIMPatientGroup\"\r\n\t\t}\r\n\t]\r\n}"
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/ScenarioDefinition/$enableEndpoint",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"ScenarioDefinition",
						"$enableEndpoint"
					]
				}
			},
			"response": []
		},
		{
			"name": "Refresh Scenario Cache",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "bc078b27-0f57-47cc-9314-8e0c1a07ee4b",
						"exec": [
							"var res= {",
							"    \"resourceType\": \"OperationOutcome\",",
							"    \"issue\": [",
							"        {",
							"            \"severity\": \"information\",",
							"            \"code\": \"operation-refreshCache\",",
							"            \"details\": {",
							"                \"text\": \"Scenario cache is refreshed successfully\"",
							"            }",
							"        }",
							"    ]",
							"}",
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"pm.test(\"Validate Response Body\", function () {",
							"    var response = pm.response.json();",
							"    pm.expect(response).to.eql(res);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenEndpointAdmin}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"id\":\"hcim4fhirgz\",\r\n\t\"resourceType\":\"Scenario\",\r\n\t\"definition\":{\r\n\t\t\"reference\":\"HCIMScenario_1_2\"\r\n\t},\r\n\t\"scope\":[\"base\",\"test\"],\r\n\t\"parameter\":[\r\n\t\t{\r\n\t\t\t\"name\":\"endpoint\",\r\n\t\t\t\"valueString\":\"hcim_scenario\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\":\"HCIMPatientGroupPermission_1_2.groupId\",\r\n\t\t\t\"valueString\":\"HCIMPatientGroup\"\r\n\t\t}\r\n\t]\r\n}"
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/Scenario/$refreshCache",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"Scenario",
						"$refreshCache"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Deployed Scenarios",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "adfaa9d3-2f0b-4b79-9a21-4a2272679f57",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Multiple checks on bundle\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(1)",
							"    pm.expect(jsonData.entry[0].resource.id).to.equal(\"hcim_demo\")",
							"    pm.expect(jsonData.entry[0].resource.resourceType).to.equal(\"Scenario\")",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenContentAdmin}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/Scenario",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"Scenario"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Patients Accesibile by me",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6bba209d-e8b6-4660-83ca-37361765b324",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(1)",
							"    pm.expect(jsonData.entry[0].resource.resourceType).to.equal(\"Patient\")",
							"    pm.expect(jsonData.entry[0].resource.address[0].use).to.equal(\"home\")",
							"    pm.expect(jsonData.entry[0].resource.gender).to.equal(\"male\")",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenEndpointUser2}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_scenario/fhir/Patient",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_scenario",
						"fhir",
						"Patient"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Full Patients (operation)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6bba209d-e8b6-4660-83ca-37361765b324",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenEndpointAdmin}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_scenario/fhir/Patient/P1/$fullget",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_scenario",
						"fhir",
						"Patient",
						"P1",
						"$fullget"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Patient with identifier (key)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c7a32d75-e1cf-4082-abd8-a96b70623969",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(1)",
							"    pm.expect(jsonData.entry[0].resource.resourceType).to.equal(\"Patient\")",
							"    pm.expect(jsonData.entry[0].resource.address[0].use).to.equal(\"home\")",
							"    pm.expect(jsonData.entry[0].resource.gender).to.equal(\"male\")",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenEndpointUser2}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_scenario/fhir/Patient?identifier=12345",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_scenario",
						"fhir",
						"Patient"
					],
					"query": [
						{
							"key": "identifier",
							"value": "12345"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Patient with identifier (key) - false positive",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "554924ef-18b7-4781-bf87-52960a38b1e1",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(0)",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenEndpointUser2}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_scenario/fhir/Patient?identifier=123",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_scenario",
						"fhir",
						"Patient"
					],
					"query": [
						{
							"key": "identifier",
							"value": "123"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Patient with identifier (system + key)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "980dd660-c5d4-4346-9939-7c51ee170f7c",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(1)",
							"    pm.expect(jsonData.entry[0].resource.resourceType).to.equal(\"Patient\")",
							"    pm.expect(jsonData.entry[0].resource.address[0].use).to.equal(\"home\")",
							"    pm.expect(jsonData.entry[0].resource.gender).to.equal(\"female\")",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenEndpointUser2}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_scenario/fhir/Patient?identifier=2.16.840.1.113883.2.4.6.3|12345",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_scenario",
						"fhir",
						"Patient"
					],
					"query": [
						{
							"key": "identifier",
							"value": "2.16.840.1.113883.2.4.6.3|12345"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Patient with identifier (system + key) - false positive",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "980dd660-c5d4-4346-9939-7c51ee170f7c",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(0)",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenEndpointUser2}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_scenario/fhir/Patient?identifier=2.16.840.1.113883.2.4.6.3|1233112331",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_scenario",
						"fhir",
						"Patient"
					],
					"query": [
						{
							"key": "identifier",
							"value": "2.16.840.1.113883.2.4.6.3|1233112331"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get observations with multiple code values",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "33840be8-7e37-4dd1-a894-771ce1c240df",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenEndpointUser2}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_scenario/fhir/Observation?code=http ://loinc.org|85354-9,http ://loinc.org|29463-7",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_scenario",
						"fhir",
						"Observation"
					],
					"query": [
						{
							"key": "code",
							"value": "http ://loinc.org|85354-9,http ://loinc.org|29463-7"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get all observation : patient id &  Single include",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f78a84d2-2f38-4840-952b-ebc397646a5e",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenEndpointUser2}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_scenario/fhir/Observation?patient.identifier=12345&_include=Observation:subject",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_scenario",
						"fhir",
						"Observation"
					],
					"query": [
						{
							"key": "patient.identifier",
							"value": "12345"
						},
						{
							"key": "_include",
							"value": "Observation:subject"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get all observation : Single include",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f78a84d2-2f38-4840-952b-ebc397646a5e",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenEndpointUser2}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_scenario/fhir/Observation?_include=Observation:subject",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_scenario",
						"fhir",
						"Observation"
					],
					"query": [
						{
							"key": "_include",
							"value": "Observation:subject"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Batch Query BgZ Patient Summary",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "2c84bfaf-d352-447a-a963-9b4de5e6ee52",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle \", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.type).to.equal(\"batch-response\")",
							"});",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenEndpointUser2}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/fhir+json"
					},
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"resourceType\": \"Bundle\",\r\n  \"id\": \"bundle-BGZ-request\",\r\n  \"type\": \"batch\",\r\n  \"entry\": [\r\n    {\r\n      \"request\": {\r\n        \"method\": \"GET\",\r\n        \"url\": \"/Observation?code=85354-9\"\r\n      }\r\n    },\r\n    {\r\n      \"request\": {\r\n        \"method\": \"GET\",\r\n        \"url\": \"/Observation?code=http://loinc.org|85354-9\"\r\n      }\r\n    },\r\n    {\r\n      \"request\": {\r\n        \"method\": \"GET\",\r\n        \"url\": \"/Observation?patient.identifier=12345&code=85354-9\"\r\n      }\r\n    }\r\n  ]\r\n}"
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_scenario/fhir",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_scenario",
						"fhir"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete Full Patients (operation)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6bba209d-e8b6-4660-83ca-37361765b324",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenEndpointAdmin}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_scenario/fhir/Patient/999911338/$fulldelete",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_scenario",
						"fhir",
						"Patient",
						"999911338",
						"$fulldelete"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update Security: Remove instance data read privilage",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "136c7cc1-8f9a-4369-98d1-7b72514178ca",
						"exec": [
							"pm.test(\"Status code is 400 Bad Request\", function () {",
							"    pm.response.to.have.status(400);",
							"});",
							"",
							"pm.test(\"response is capability\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"OperationOutcome\")",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenContentAdmin}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"resourceType\": \"Permission\",\r\n\t\"id\": \"HCIMPatientGroupPermission\",\r\n\t\"group\": \"HCIMPatientGroup\",\r\n\t\"requiredAttributes\": [\"attr.socialSecurityNumber\",\"attr.identifierSystem\"],\r\n\t\"restPermission\": [\r\n\t\t{\r\n\t\t\t\"type\": \"resource\",\r\n\t\t\t\"definition\": {\r\n\t\t\t\t\"reference\": \"http://hl7.org/fhir/StructureDefinition/Patient\"\r\n\t\t\t},\r\n\t\t\t\"grant\": [\r\n\t\t\t\t\"read\"\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"type\": \"resource\",\r\n\t\t\t\"definition\": {\r\n\t\t\t\t\"reference\": \"http://hl7.org/fhir/StructureDefinition/Observation\"\r\n\t\t\t},\r\n\t\t\t\"grant\": [\r\n\t\t\t\t\"read\"\r\n\t\t\t]\r\n\t\t}\r\n\t],\r\n\t\"instancePermission\": [\r\n\t{\r\n\t\t\t\"type\": \"resource\",\r\n\t\t\t\"definition\": {\r\n\t\t\t\t\"reference\": \"http://hl7.org/fhir/StructureDefinition/Observation\"\r\n\t\t\t},\r\n\t\t\t\"grant\": [\r\n\t\t\t\t\"read\"\r\n\t\t\t],\r\n\t\t\t\"constraintType\": \"elementMap\",\r\n\t\t\t\"element\": \"patient.identifier\",\r\n\t\t\t\"value\": \"$attr.socialSecurityNumber\"\r\n\t\t}\r\n\t]\r\n}"
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/Permission",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"Permission"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete Deployed Scenario ( EndPoint )",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "bc078b27-0f57-47cc-9314-8e0c1a07ee4b",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenEndpointAdmin}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/Scenario/hcim_scenario/$deleteEndpoint",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"Scenario",
						"hcim_scenario",
						"$deleteEndpoint"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Deployed Scenarios",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "adfaa9d3-2f0b-4b79-9a21-4a2272679f57",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Multiple checks on bundle\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(0)",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerTokenContentAdmin}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/Scenario",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"Scenario"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "6ae8696e-c4c7-48e7-bb86-dfdf07917158",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "366f8221-5ffe-4909-88b3-a85abf67cdf7",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}