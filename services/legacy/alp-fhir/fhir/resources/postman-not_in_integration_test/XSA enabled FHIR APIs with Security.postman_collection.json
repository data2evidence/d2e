{
	"info": {
		"_postman_id": "20563b23-e60f-477e-9158-eb40a007b21c",
		"name": "XSA enabled FHIR APIs with Security",
		"description": "Here we focus on executing a set of API's that does a scanity check for the following:\n\n1) Security Authentication enablement\n2) Security Authorization enablement (API Auth and Instance Auth)\n3) Audit Logging enablement",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Get Bearer Token and Initialize System Enviornment Variable",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "2d2094ce-6210-44a4-8f57-8c44ae51c1b5",
						"exec": [
							"pm.test(\"Initialize Enviornment\", function () {",
							"    var jsonData = pm.response.json();",
							"    postman.setEnvironmentVariable(\"bearerToken\", jsonData[\"access_token\"]);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "{{applicationClientSecret}}",
							"type": "string"
						},
						{
							"key": "username",
							"value": "{{applicationClientID}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"grant_type\": \"password\",\n\t\"username\": \"JERIN\",\n\t\"password\": \"Toor1234\",\n\t\"scape\": \"\"\n}"
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{uaaPort}}/uaa-security/oauth/token?grant_type=password&username={{adminUsername}}&password={{adminPassword}}&response_type=code&token_format=jwt",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{uaaPort}}",
					"path": [
						"uaa-security",
						"oauth",
						"token"
					],
					"query": [
						{
							"key": "grant_type",
							"value": "password"
						},
						{
							"key": "username",
							"value": "{{adminUsername}}"
						},
						{
							"key": "password",
							"value": "{{adminPassword}}"
						},
						{
							"key": "response_type",
							"value": "code"
						},
						{
							"key": "token_format",
							"value": "jwt"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Initialize Platform",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "9fea45b9-5f60-4f03-ad85-b0fd93668eb0",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"response is capability\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"CapabilityStatement\")",
							"});"
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/init",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"init"
					]
				}
			},
			"response": []
		},
		{
			"name": "Upload HCIM Content",
			"event": [
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});"
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "file",
							"type": "file",
							"src": null
						}
					]
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/upload",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"upload"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Scenario Definitions",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "feb624a1-cabf-4f76-b206-4c780a447c94",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Multiple checks on bundle\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(1)",
							"    pm.expect(jsonData.entry[0].resource.id).to.equal(\"hcimscenario\")",
							"    pm.expect(jsonData.entry[0].resource.category).to.equal(\"catalog\")",
							"    pm.expect(jsonData.entry[0].resource.resourceType).to.equal(\"ScenarioDefinition\")",
							"});",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/ScenarioDefinition",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"ScenarioDefinition"
					]
				}
			},
			"response": []
		},
		{
			"name": "Deploy Scenario Definition",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "bc078b27-0f57-47cc-9314-8e0c1a07ee4b",
						"exec": [
							"var capabilityResponse = {",
							"    \"resourceType\": \"CapabilityStatement\",",
							"    \"id\": \"bgz2017-servercapabilities-wrapper\",",
							"    \"instantiates\": [",
							"        \"http://nictiz.nl/fhir/CapabilityStatement/bgz2017-servercapabilities\"",
							"    ],",
							"    \"url\": \"http://hl7.org/fhir/CapabilityStatement/base\",",
							"    \"version\": \"1.0\",",
							"    \"name\": \"BGZ2017Server\",",
							"    \"status\": \"active\",",
							"    \"date\": \"2018-04-30\",",
							"    \"publisher\": \"Nictiz\",",
							"    \"contact\": [",
							"        {",
							"            \"name\": \"Nictiz\",",
							"            \"telecom\": [",
							"                {",
							"                    \"system\": \"email\",",
							"                    \"value\": \"info@nictiz.nl\",",
							"                    \"use\": \"work\"",
							"                }",
							"            ]",
							"        }",
							"    ],",
							"    \"description\": \"This CapabilityStatement describes the minimal requirements for a server to expose the \\\"Basisgegevensset Zorg\\\" (Dutch Patient Summary) based the Dutch Health and Care Information models (Dutch: Zorginformatiebouwsteen or ZIB), release 2017.\",",
							"    \"copyright\": \"CC0\",",
							"    \"kind\": \"requirements\",",
							"    \"fhirVersion\": \"3.0.1\",",
							"    \"acceptUnknown\": \"both\",",
							"    \"format\": [",
							"        \"xml\",",
							"        \"json\"",
							"    ],",
							"    \"profile\": [",
							"        {",
							"            \"reference\": \"http://fhir.nl/fhir/StructureDefinition/nl-core-patient\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-Payer\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-Problem\"",
							"        },",
							"        {",
							"            \"reference\": \"http://fhir.nl/fhir/StructureDefinition/nl-core-organization\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-TreatmentDirective\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-AdvanceDirective\"",
							"        },",
							"        {",
							"            \"reference\": \"http://fhir.nl/fhir/StructureDefinition/nl-core-relatedperson\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-FunctionalOrMentalStatus\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-LivingSituation\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-DrugUse\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-AlcoholUse\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-TobaccoUse\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-NutritionAdvice\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-Alert\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-AllergyIntolerance\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-MedicationUse\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-MedicationAgreement\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-AdministrationAgreement\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-MedicalDeviceProduct\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-MedicalDevice\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-Vaccination\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-VaccinationRecommendation\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-BloodPressure\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-BodyWeight\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-BodyHeight\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-LaboratoryTestResult-Observation\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-LaboratoryTestResult-DiagnosticReport\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-LaboratoryTestResult-Specimen\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-Procedure\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-Encounter\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-ProcedureRequest\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-VaccinationRecommendation\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-MedicalDeviceRequest\"",
							"        },",
							"        {",
							"            \"reference\": \"http://nictiz.nl/fhir/StructureDefinition/zib-Appointment\"",
							"        },",
							"        {",
							"            \"reference\": \"http://fhir.nl/fhir/StructureDefinition/nl-core-practitioner\"",
							"        },",
							"        {",
							"            \"reference\": \"http://fhir.nl/fhir/StructureDefinition/nl-core-practitionerrole\"",
							"        }",
							"    ],",
							"    \"rest\": [",
							"        {",
							"            \"mode\": \"server\",",
							"            \"resource\": [",
							"                {",
							"                    \"type\": \"Permission\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        }",
							"                    ],",
							"                    \"searchInclude\": [],",
							"                    \"searchParam\": []",
							"                },",
							"                {",
							"                    \"type\": \"Patient\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchInclude\": [",
							"                        \"general-practitioner\"",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"identifier\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Coverage\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchInclude\": [",
							"                        \"Coverage:payor:Patient,Organization\"",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"subscriber\",",
							"                            \"type\": \"reference\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Consent\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Observation\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        },",
							"                        {",
							"                            \"name\": \"code\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Condition\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"NutritionOrder\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"status\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Flag\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"AllergyIntolerance\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"MedicationStatement\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchInclude\": [",
							"                        \"MedicationStatement.medication\"",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"status\",",
							"                            \"type\": \"token\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"MedicationRequest\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchInclude\": [",
							"                        \"MedicationRequest.medication\"",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"status\",",
							"                            \"type\": \"token\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"DeviceUseStatement\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchInclude\": [",
							"                        \"DeviceUseStatement:device\"",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Immunization\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"status\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Procedure\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Encounter\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"class\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"ProcedureRequest\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"ImmunizationRecommendation\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"MedicationDispense\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchInclude\": [",
							"                        \"MedicationDispense.medication\"",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"status\",",
							"                            \"type\": \"token\"",
							"                        },",
							"                        {",
							"                            \"name\": \"category\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"DeviceRequest\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"status\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                },",
							"                {",
							"                    \"type\": \"Appointment\",",
							"                    \"interaction\": [",
							"                        {",
							"                            \"code\": \"search-type\"",
							"                        },",
							"                        {",
							"                            \"code\": \"read\"",
							"                        }",
							"                    ],",
							"                    \"searchParam\": [",
							"                        {",
							"                            \"name\": \"patient\",",
							"                            \"type\": \"reference\"",
							"                        },",
							"                        {",
							"                            \"name\": \"status\",",
							"                            \"type\": \"token\"",
							"                        }",
							"                    ]",
							"                }",
							"            ],",
							"            \"operation\": [",
							"                {",
							"                    \"name\": \"Last N Observations Query\",",
							"                    \"definition\": {",
							"                        \"reference\": \"http://hl7.org/fhir/OperationDefinition/Observation-lastn\"",
							"                    }",
							"                },",
							"                {",
							"                    \"name\": \"FullPatientGet\",",
							"                    \"definition\": {",
							"                        \"reference\": \"http://email.com/fhir/OperationDefinition/Patient-fullget\"",
							"                    }",
							"                },",
							"                {",
							"                    \"name\": \"FullPatientDelete\",",
							"                    \"definition\": {",
							"                        \"reference\": \"http://email.com/fhir/OperationDefinition/Patient-fulldelete\"",
							"                    }",
							"                }",
							"            ]",
							"        }",
							"    ]",
							"};",
							"",
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"pm.test(\"Validate Response Body\", function () {",
							"    var response = pm.response.json();",
							"    pm.expect(response).to.eql(capabilityResponse);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"disabled": false
					},
					{
						"key": "Accept",
						"value": "application/fhir+json",
						"disabled": false
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"id\":\"hcim4fhirgz\",\r\n\t\"resourceType\":\"Scenario\",\r\n\t\"definition\":{\r\n\t\t\"reference\":\"hcimscenario\"\r\n\t},\r\n\t\"scope\":[\"base\",\"test\"],\r\n\t\"parameter\":[\r\n\t\t{\r\n\t\t\t\"name\":\"endpoint\",\r\n\t\t\t\"valueString\":\"hcim_demo\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\":\"schema\",\r\n\t\t\t\"valueString\":\"HCIM_TEST\"\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"name\":\"HCIMPatientGroupPermission.groupId\",\r\n\t\t\t\"valueString\":\"Jerin\"\r\n\t\t}\r\n\t]\r\n}"
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/Scenario/$apply",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"Scenario",
						"$apply"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Deployed Scenarios",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "adfaa9d3-2f0b-4b79-9a21-4a2272679f57",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Multiple checks on bundle\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(1)",
							"    pm.expect(jsonData.entry[0].resource.id).to.equal(\"hcim_demo\")",
							"    pm.expect(jsonData.entry[0].resource.resourceType).to.equal(\"Scenario\")",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/Scenario",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"Scenario"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Patients Accesibile by me",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6bba209d-e8b6-4660-83ca-37361765b324",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(1)",
							"    pm.expect(jsonData.entry[0].resource.resourceType).to.equal(\"Patient\")",
							"    pm.expect(jsonData.entry[0].resource.address[0].use).to.equal(\"home\")",
							"    pm.expect(jsonData.entry[0].resource.gender).to.equal(\"female\")",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo_1/fhir/Patient",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo_1",
						"fhir",
						"Patient"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Full Patients (operation)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6bba209d-e8b6-4660-83ca-37361765b324",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo/fhir/Patient/999911338/$fullget",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo",
						"fhir",
						"Patient",
						"999911338",
						"$fullget"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete Full Patients (operation)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6bba209d-e8b6-4660-83ca-37361765b324",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo/fhir/Patient/999911338/$fulldelete",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo",
						"fhir",
						"Patient",
						"999911338",
						"$fulldelete"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Patient with identifier (key)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "c7a32d75-e1cf-4082-abd8-a96b70623969",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(1)",
							"    pm.expect(jsonData.entry[0].resource.resourceType).to.equal(\"Patient\")",
							"    pm.expect(jsonData.entry[0].resource.address[0].use).to.equal(\"home\")",
							"    pm.expect(jsonData.entry[0].resource.gender).to.equal(\"female\")",
							"});",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo/fhir/Patient?identifier=12332332",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo",
						"fhir",
						"Patient"
					],
					"query": [
						{
							"key": "identifier",
							"value": "12332332"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Patient with identifier (key) - false positive",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "554924ef-18b7-4781-bf87-52960a38b1e1",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(1)",
							"    pm.expect(jsonData.entry[0].resource.resourceType).to.equal(\"OperationOutcome\")",
							"    pm.expect(jsonData.entry[0].resource.issue[0].severity).to.equal(\"error\")",
							"    pm.expect(jsonData.entry[0].resource.issue[0].details.text).to.equal(\"No data found with requested parameters\")",
							"});",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo/fhir/Patient?identifier=123",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo",
						"fhir",
						"Patient"
					],
					"query": [
						{
							"key": "identifier",
							"value": "123"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Patient with identifier (system + key)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "980dd660-c5d4-4346-9939-7c51ee170f7c",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(1)",
							"    pm.expect(jsonData.entry[0].resource.resourceType).to.equal(\"Patient\")",
							"    pm.expect(jsonData.entry[0].resource.address[0].use).to.equal(\"home\")",
							"    pm.expect(jsonData.entry[0].resource.gender).to.equal(\"female\")",
							"});",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo/fhir/Patient?identifier=2.16.840.1.113883.2.4.6.3|12332331",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo",
						"fhir",
						"Patient"
					],
					"query": [
						{
							"key": "identifier",
							"value": "2.16.840.1.113883.2.4.6.3|12332331"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Patient with identifier (system + key) - false positive",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "980dd660-c5d4-4346-9939-7c51ee170f7c",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(1)",
							"    pm.expect(jsonData.entry[0].resource.resourceType).to.equal(\"Patient\")",
							"    pm.expect(jsonData.entry[0].resource.address[0].use).to.equal(\"home\")",
							"    pm.expect(jsonData.entry[0].resource.gender).to.equal(\"female\")",
							"});",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo/fhir/Patient?identifier=2.16.840.1.113883.2.4.6.3|12332331",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo",
						"fhir",
						"Patient"
					],
					"query": [
						{
							"key": "identifier",
							"value": "2.16.840.1.113883.2.4.6.3|12332331"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get observations with multiple code values",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "33840be8-7e37-4dd1-a894-771ce1c240df",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"pm.test(\"Code value '15074-8' check \", function () {",
							"    pm.expect(pm.response.text()).to.include(\"15074-8\");",
							"});",
							"",
							"pm.test(\"Multiple checks on bundle \", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(2)",
							"    pm.expect(jsonData.entry[0].resource.id).to.equal(\"999111\")",
							"    pm.expect(jsonData.entry[1].resource.id).to.equal(\"999112\")",
							"});",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo/fhir/Observation?patient.identifier=12332332&code=http://loinc.org|15074-8,http://loinc.org|15074-9",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo",
						"fhir",
						"Observation"
					],
					"query": [
						{
							"key": "patient.identifier",
							"value": "12332332"
						},
						{
							"key": "code",
							"value": "http://loinc.org|15074-8,http://loinc.org|15074-9"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get all observation : patient id &  Single include",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f78a84d2-2f38-4840-952b-ebc397646a5e",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle \", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(3)",
							"    pm.expect(jsonData.entry[0].resource.id).to.equal(\"999111\")",
							"    pm.expect(jsonData.entry[1].resource.id).to.equal(\"999112\")",
							"    ",
							"   ",
							"});",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo/fhir/Observation?patient.identifier=12332332&_include=Observation:subject",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo",
						"fhir",
						"Observation"
					],
					"query": [
						{
							"key": "patient.identifier",
							"value": "12332332"
						},
						{
							"key": "_include",
							"value": "Observation:subject"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get all observation : Single include",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f78a84d2-2f38-4840-952b-ebc397646a5e",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle \", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(3)",
							"    pm.expect(jsonData.entry[0].resource.id).to.equal(\"999111\")",
							"    pm.expect(jsonData.entry[1].resource.id).to.equal(\"999112\")",
							"    ",
							"   ",
							"});",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo/fhir/Observation?_include=Observation:subject",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo",
						"fhir",
						"Observation"
					],
					"query": [
						{
							"key": "_include",
							"value": "Observation:subject"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Batch Query BgZ Patient Summary",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "2c84bfaf-d352-447a-a963-9b4de5e6ee52",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle \", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.type).to.equal(\"batch-response\")",
							"    pm.expect(jsonData.entry[0].resource.total).to.equal(2)",
							"    pm.expect(jsonData.entry[0].resource.entry[0].resource.id).to.equal(\"999113\")",
							"});",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/fhir+json"
					},
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"resourceType\": \"Bundle\",\r\n  \"id\": \"bundle-BGZ-request\",\r\n  \"type\": \"batch\",\r\n  \"entry\": [\r\n    {\r\n      \"request\": {\r\n        \"method\": \"GET\",\r\n        \"url\": \"/Observation?code=15074-8\"\r\n      }\r\n    },\r\n    {\r\n      \"request\": {\r\n        \"method\": \"GET\",\r\n        \"url\": \"/Observation?code=http://loinc.org|15074-8\"\r\n      }\r\n    },\r\n    {\r\n      \"request\": {\r\n        \"method\": \"GET\",\r\n        \"url\": \"/Observation?patient.identifier=12332332&code=15074-8\"\r\n      }\r\n    }\r\n  ]\r\n}"
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo/fhir",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo",
						"fhir"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update Security: Remove instance data read privilage",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "136c7cc1-8f9a-4369-98d1-7b72514178ca",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 201 CREATED\", function () {",
							"    pm.response.to.have.status(201);",
							"});",
							"",
							"pm.test(\"response is capability\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Permission\")",
							"});"
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"resourceType\": \"Permission\",\r\n\t\"id\": \"HCIMPatientGroupPermission\",\r\n\t\"group\": \"HCIMPatientGroup\",\r\n\t\"requiredAttributes\": [\"attr.socialSecurityNumber\",\"attr.identifierSystem\"],\r\n\t\"restPermission\": [\r\n\t\t{\r\n\t\t\t\"type\": \"resource\",\r\n\t\t\t\"definition\": {\r\n\t\t\t\t\"reference\": \"http://hl7.org/fhir/StructureDefinition/Patient\"\r\n\t\t\t},\r\n\t\t\t\"grant\": [\r\n\t\t\t\t\"read\"\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"type\": \"resource\",\r\n\t\t\t\"definition\": {\r\n\t\t\t\t\"reference\": \"http://hl7.org/fhir/StructureDefinition/Observation\"\r\n\t\t\t},\r\n\t\t\t\"grant\": [\r\n\t\t\t\t\"read\"\r\n\t\t\t]\r\n\t\t}\r\n\t],\r\n\t\"instancePermission\": [\r\n\t{\r\n\t\t\t\"type\": \"resource\",\r\n\t\t\t\"definition\": {\r\n\t\t\t\t\"reference\": \"http://hl7.org/fhir/StructureDefinition/Observation\"\r\n\t\t\t},\r\n\t\t\t\"grant\": [\r\n\t\t\t\t\"read\"\r\n\t\t\t],\r\n\t\t\t\"constraintType\": \"elementMap\",\r\n\t\t\t\"element\": \"patient.identifier\",\r\n\t\t\t\"value\": \"$attr.socialSecurityNumber\"\r\n\t\t}\r\n\t]\r\n}"
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/Permission",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"Permission"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Patients Accesibile by me - Auth error",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "1a87eddf-44f4-4e12-93d6-a29e799abfc9",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 401 FAIL\", function () {",
							"    pm.response.to.have.status(401);",
							"});",
							"",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"    pm.expect(postman.getResponseHeader(\"Content-Type\")).to.include(\"application/fhir+json\");",
							"});",
							"",
							"",
							"pm.test(\"Multiple checks on bundle - false positive\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"OperationOutcome\")",
							"    pm.expect(jsonData.issue[0].severity).to.equal(\"warning\")",
							"    pm.expect(jsonData.issue[0].details.text).to.equal(\"Authoriozation Error, User does not have data privilages on [Patient]\")",
							"});",
							"",
							""
						]
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/fhir+json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/hcim_demo/fhir/Patient",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"hcim_demo",
						"fhir",
						"Patient"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete Deployed Scenario ( EndPoint )",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "bc078b27-0f57-47cc-9314-8e0c1a07ee4b",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/Scenario/hcim_demo/$deleteEndpoint",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"Scenario",
						"hcim_demo",
						"$deleteEndpoint"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All Deployed Scenarios",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "adfaa9d3-2f0b-4b79-9a21-4a2272679f57",
						"exec": [
							"pm.test(\"Status code is 200 OK\", function () {",
							"    pm.response.to.have.status(200);",
							"    pm.response.to.have.status(\"OK\");",
							"});",
							"",
							"pm.test(\"Multiple checks on bundle\", function () {",
							"    var jsonData = pm.response.json()",
							"    pm.expect(jsonData.resourceType).to.be.a('string')",
							"    pm.expect(jsonData.resourceType).to.equal(\"Bundle\")",
							"    pm.expect(jsonData.total).to.equal(0)",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "{{bearerToken}}",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{protocol}}://{{host}}:{{port}}/fhir/content/fhir/Scenario",
					"protocol": "{{protocol}}",
					"host": [
						"{{host}}"
					],
					"port": "{{port}}",
					"path": [
						"fhir",
						"content",
						"fhir",
						"Scenario"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "6ae8696e-c4c7-48e7-bb86-dfdf07917158",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "366f8221-5ffe-4909-88b3-a85abf67cdf7",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}