{
	"variables": [],
	"info": {
		"name": "90 Beyond FHIR - Data Marts",
		"_postman_id": "70c2acb9-9497-0949-9e89-3fc53a627ee1",
		"description": "",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "Data Mart Creation",
			"request": {
				"url": "{{protocol}}://{{host}}:{{port}}/fhir/{{endpoint}}/mart",
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"description": ""
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{  \r\n   \"id\":\"SmartVitalSigns\",\r\n   \"type\":{  \r\n      \"type\":\"sql\",\r\n      \"schema\":\"{{endpoint}}_VITALSGIGNS\"\r\n   },\r\n   \"views\":[  \r\n      {  \r\n         \"type\":\"sqlview\",\r\n         \"query\":{  \r\n            \"type\":\"query\",\r\n            \"name\":\"PatientHeight\",\r\n            \"from\":{  \r\n               \"type\":\"from\",\r\n               \"definition\":\"Patient\"\r\n            },\r\n            \"joins\":[  \r\n               {  \r\n                  \"type\":\"join\",\r\n                  \"definition\":\"Observation\",\r\n                  \"link\":{  \r\n                     \"type\":\"resultelement\",\r\n                     \"definition\":\"Observation\",\r\n                     \"path\":\"Observation.subject.reference\"\r\n                  }\r\n               }\r\n            ],\r\n            \"filter\":{  \r\n               \"type\":\"binaryexpression\",\r\n               \"left\":{  \r\n                  \"type\":\"binaryexpression\",\r\n                  \"left\":{  \r\n                     \"type\":\"binaryexpression\",\r\n                     \"left\":{  \r\n                        \"type\":\"resultelement\",\r\n                        \"definition\":\"Observation\",\r\n                        \"path\":\"Observation.code.text\"\r\n                     },\r\n                     \"operation\":\"=\",\r\n                     \"right\":{  \r\n                        \"type\":\"stringexpression\",\r\n                        \"value\":\"height\"\r\n                     }\r\n                  },\r\n                  \"operation\":\" OR \",\r\n                  \"right\":{  \r\n                     \"type\":\"binaryexpression\",\r\n                     \"left\":{  \r\n                        \"type\":\"resultelement\",\r\n                        \"definition\":\"Observation\",\r\n                        \"path\":\"Observation.code.text\"\r\n                     },\r\n                     \"operation\":\"=\",\r\n                     \"right\":{  \r\n                        \"type\":\"stringexpression\",\r\n                        \"value\":\"Body Height\"\r\n                     }\r\n                  }\r\n               },\r\n               \"operation\":\" AND \",\r\n               \"right\":{  \r\n                  \"type\":\"isnullexpression\",\r\n                  \"expression\":{  \r\n                     \"type\":\"resultelement\",\r\n                     \"definition\":\"Patient\",\r\n                     \"path\":\"Patient.address.city\"\r\n                  },\r\n                  \"isNot\":true\r\n               }\r\n            },\r\n            \"out\":[  \r\n               {  \r\n                  \"type\":\"resultelement\",\r\n                  \"definition\":\"Patient\",\r\n                  \"path\":\"Patient.id\"\r\n               },\r\n               {  \r\n                  \"type\":\"resultelement\",\r\n                  \"definition\":\"Patient\",\r\n                  \"path\":\"Patient.gender\"\r\n               },\r\n               {  \r\n                  \"type\":\"resultelement\",\r\n                  \"definition\":\"Patient\",\r\n                  \"path\":\"Patient.birthDate\"\r\n               },\r\n               {  \r\n                  \"type\":\"resultelement\",\r\n                  \"definition\":\"Patient\",\r\n                  \"path\":\"Patient.address[0].city\"\r\n               },\r\n               {  \r\n                  \"type\":\"resultelement\",\r\n                  \"definition\":\"Patient\",\r\n                  \"path\":\"Patient.address[0].state\"\r\n               },\r\n               {  \r\n                  \"type\":\"resultelement\",\r\n                  \"definition\":\"Patient\",\r\n                  \"path\":\"Patient.address[0].country\"\r\n               },\r\n               {  \r\n                  \"type\":\"resultelement\",\r\n                  \"definition\":\"Observation\",\r\n                  \"path\":\"Observation.code.coding[0].code\"\r\n               },\r\n               {  \r\n                  \"type\":\"resultelement\",\r\n                  \"definition\":\"Observation\",\r\n                  \"path\":\"Observation.valueQuantity.value\"\r\n               }\r\n            ],\r\n            \"limit\":{  \r\n               \"type\":\"limit\",\r\n               \"limit\":1000\r\n            }\r\n         }\r\n      }\r\n   ]\r\n}"
				},
				"description": ""
			},
			"response": []
		},
		{
			"name": "DeleteDataMart",
			"request": {
				"url": "{{protocol}}://{{host}}:{{port}}/fhir/smart/mart/SmartVitalSigns",
				"method": "DELETE",
				"header": [],
				"body": {},
				"description": ""
			},
			"response": []
		}
	]
}