
{
	"resource": "http://hl7.org/fhir/StructureDefinition/Observation",
	"tables": [
		{
			"id": "Observation",
			"schema": "HCIM",
			"table": "HCIM_OBSERVATION_BASE",
			"resourceLink": {
				"type": "column",
				"column": "identification_number"
			},
			"max":"1",
			"columns":[
				{"name":"identification_number"},
				{"name":"subject"},
				{"name":"datetime"},
				{"name":"category_value"},
				{"name":"category_codesystem"},
				{"name":"code_value"},
				{"name":"code_codesystem"}		
			]
		},
		{
			"id": "Bodyheight",
			"schema": "HCIM",
			"table": "HCIM_BODYHEIGHT",
			"resourceLink": {
				"type": "column",
				"column": "identification_number"
			},
			"max":"1",
			"columns":[
				{"name":"identification_number"},
  				{"name":"information_source_patient"},
  				{"name":"information_source_professional"},
  				{"name":"information_source_contact_person"},
  				{"name":"author_patient"},
			    {"name":"author_professional"},
			    {"name":"author_contact_person"},
			    {"name":"subject"},
			    {"name":"datetime"},
			    {"name":"heightValue"},
			    {"name":"heightUnit"},
			    {"name":"heightDate"},
			    {"name":"comment"}, 
			    {"name":"positionConceptName"},
			    {"name":"positionConcept"},
			    {"name":"positionCodesystemName"},
			    {"name":"positionCodesystemOid"},
			    {"name":"positionDisplay"}
		   ]	
		}
	],
	"elements": [
		{
			"dataelement": "Observation.id",
			"tableid": "Observation",
			"column": "identification_number"
		},
		{
			"dataelement": "Observation.category.coding.code",
			"tableid": "Observation",
			"column": "category_value"
		},
		{
			"dataelement": "Observation.category.coding.system",
			"tableid": "Observation",
			"column": "category_codesystem"
		},
		{
			"dataelement": "Observation.code.coding.code",
			"tableid": "Observation",
			"column": "code_value"
		},
		{
			"dataelement": "Observation.code.coding.system",
			"tableid": "Observation",
			"column": "code_codesystem"
		},
		{
			"dataelement": "Observation.subject.reference",
			"tableid": "Observation",
			"column": "subject"
		}
	],
	"search": [
		"code",
		"category",
		"patient"
	],
	"mapping":[
		{
			"dataelement": "Observation.status",
			"tableid": "Observation",
			"type":"value",
			"value": "final"
		},
		{
			"dataelement": "Observation.id",
			"tableid": "Observation",
			"column": "identification_number"
		},
		{
			"dataelement":"Observation.category.coding",
			"tableid":"Observation",
			"type":"complex",
			"elements":[
				{
					"dataelement": "system",
					"column": "category_codesystem"
				},
				{
					"dataelement": "code",
					"column": "category_value"
				}	
			]
		},
		{
			"dataelement":"Observation.code.coding",
			"tableid":"Observation",
			"type":"complex",
			"elements":[
				{
					"dataelement": "Observation.code.coding.system",
					"column": "code_codesystem"
				},
				{
					"dataelement": "Observation.code.coding.code",
					"column": "code_value"
				}	
			]
		},
		{
			"dataelement": "Observation.subject.reference",
			"tableid": "Observation",
			"column": "subject"
		},
		{
			"dataelement": "Observation.effectiveDateTime",
			"tableid": "Observation",
			"column": "datetime"
		},
		{
			"dataelement":"Observation.meta.profile",
			"tableid": "Bodyheight",
			"type":"value",
			"value":"http://nictiz.nl/fhir/StructureDefinition/zib-Bodyheight"
		},	
		{
			"dataelement":"Observation.code.coding",
			"tableid":"Bodyheight",
			"dependson":["positionConcept"],
			"type":"complex",
			"elements":[
				{
					"dataelement":"system",
					"column":"positionCodesystemName"
				},
				{
					"dataelement":"code",
					"column":"positionCodeConcept"
				},
				{
					"dataelement":"display",
					"column":"positionDisplay"
				}	
			]
		},
		{
			"dataelement":"Observation.valueQuantity.value",
			"tableid": "Bodyheight",
			"column":"heightValue"
		},
		{
			"dataelement":"Observation.valueQuantity.unit",
			"tableid": "Bodyheight",
			"column":"heightUnit"
		},
		{
			"dataelement":"Observation.valueQuantity.system",
			"tableid": "Bodyheight",
			"type":"value",
			"value":"http://unitsofmeasure.org"
		},
		{
			"dataelement":"Observation.valueQuantity.code",
			"tableid": "Bodyheight",
			"column":"heightUnit"
		}
	]
}